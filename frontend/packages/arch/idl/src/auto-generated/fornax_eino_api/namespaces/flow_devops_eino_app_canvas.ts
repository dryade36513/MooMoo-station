/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
/* eslint-disable */
/* tslint:disable */
// @ts-nocheck

export type Int64 = string | number;

export interface Branch {
  id: string;
  condition?: Condition;
  source_node_key: string;
  target_node_keys?: Array<string>;
}

export interface CanvasInfo {
  /** Graph 名稱, Debug 時使用 */
  name?: string;
  /** 渲染展示的版本, Debug 時使用 */
  version?: string;
  /** Canvas的Graph類型，目前有兩種(Graph,StateGraph), Debug 時使用 */
  component: string;
  nodes?: Array<Node>;
  edges?: Array<Edge>;
  branches?: Array<Branch>;
  /** Graph 觸發模式, Debug 暫時不需關注 */
  node_trigger_mode?: string;
  /** 當Graph類型爲StateGraph 時, 對應的方法名稱, Debug 暫時不需關注 */
  gen_local_state_method?: string;
}

export interface ComponentSchema {
  component?: string;
  /** 編排時使用 組件類型 枚舉值 official、custom */
  component_source?: string;
  /** 組件實現的標識，可視化編排需要保證唯一 */
  identifier?: string;
  /** 編排時使用，生成組件的方法，全局唯一 */
  method?: string;
  /** 編排時,展示其title. debug時依據此Schema規範填入內容 */
  input_type?: JsonSchema;
  /** 編排時只做展示,展示其title. */
  output_type?: JsonSchema;
  /** 編排時使用, 組件額外的配置，按照Schema規範填入內容, Lambda 中的 interaction_type 是枚舉: invoke,stream,transform,collect */
  component_extra_schema?: JsonSchema;
  /** 編排時使用, 組件額外的配置 json string 提交給執行側 */
  component_extra?: string;
  /** 編排時使用, 組件的插槽配置，必定是一個 component */
  slots?: Array<Slot>;
  /** 編排時使用, 組件的 config 配置，按照Schema規範填入內容 */
  config?: ConfigSchema;
  /** 編排時使用, 組件額外的配置，按照Schema規範填入內容, Lambda 中的 interaction_type 是枚舉: invoke,stream,transform,collect */
  extra_property?: ExtraPropertySchema;
  /** 編排時使用, 組件具體實現在 UI 上展示的名稱 */
  name?: string;
  /** 編排時使用, 組件額外的配置，表述輸入輸出的type是否可修改 */
  is_io_type_mutable?: boolean;
  /** 編排時使用, 組件額外的配置，表述schema的版本 */
  version?: string;
}

export interface Condition {
  method: string;
  is_stream?: boolean;
  input_type?: JsonSchema;
}

export interface ConfigSchema {
  schema?: JsonSchema;
  config_input?: string;
  description?: string;
}

export interface Edge {
  id: string;
  name: string;
  source_node_key: string;
  target_node_key: string;
}

export interface ExtraPropertySchema {
  schema?: JsonSchema;
  extra_property_input?: string;
}

export interface GenLocalState {
  is_set?: boolean;
  output_type?: JsonSchema;
}

export interface GoDefinition {
  libraryRef?: Library;
  typeName: string;
  kind: string;
  isPtr: boolean;
}

export interface GraphSchema {
  name: string;
  component: string;
  nodes?: Array<Node>;
  edges?: Array<Edge>;
  branches?: Array<Branch>;
  /** Graph 觸發模式, 編排必填 枚舉值; AnyPredecessor、AllPredecessor */
  node_trigger_mode?: string;
  /** 當Graph類型爲StateGraph 時, 編排時當Graph爲GraphState類型，此參數必填 */
  gen_local_state?: GenLocalState;
  input_type?: JsonSchema;
  output_type?: JsonSchema;
  /** GraphID，Debug 時使用 */
  id?: string;
}

export interface JsonSchema {
  type: string;
  title?: string;
  description?: string;
  items?: JsonSchema;
  properties?: Record<string, JsonSchema>;
  anyOf?: Array<JsonSchema>;
  additionalProperties?: JsonSchema;
  required?: Array<string>;
  /** custom field */
  propertyOrder?: Array<string>;
  enum?: Array<string>;
  default?: string;
  goDefinition?: GoDefinition;
}

export interface Library {
  module: string;
  version: string;
  pkgPath: string;
}

export interface Node {
  /** 編排時需要用戶必填，同一個Graph 唯一， Debug 時做展示使用 */
  key: string;
  /** 編排時需要用戶必填, Debug 暫沒有使用 */
  name: string;
  /** Debug 使用，表示Node類型 eg: 虛擬branch 節點或者 Component組件 */
  type: string;
  /** 具體組件實現 */
  component_schema?: ComponentSchema;
  /** 具體子Graph實現 */
  graph_schema?: GraphSchema;
  /** 編排時使用, Node Option參數 */
  node_option?: NodeOption;
  /** Debug 使用 對start 節點的入參的推斷 */
  infer_input?: JsonSchema;
  /** Debug 使用 該節點是否可操作 */
  allow_operate?: boolean;
}

export interface NodeOption {
  /** 非必填 */
  input_key?: string;
  /** 非必填 */
  output_key?: string;
  /** 非必填, Node是否需要該hander 作爲Option 傳參 */
  used_state_pre_handler?: boolean;
  /** 非必填, Node是否需要該hander 作爲Option 傳參 */
  used_state_post_handler?: boolean;
}

export interface Slot {
  component?: string;
  field_loc_path?: string;
  multiple?: boolean;
  required?: boolean;
  component_items?: Array<ComponentSchema>;
  go_definition?: GoDefinition;
}
/* eslint-enable */
