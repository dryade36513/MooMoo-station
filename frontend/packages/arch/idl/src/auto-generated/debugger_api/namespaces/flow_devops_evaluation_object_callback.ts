/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
/* eslint-disable */
/* tslint:disable */
// @ts-nocheck

import * as flow_devops_evaluation_callback_common from './flow_devops_evaluation_callback_common';
import * as flow_devops_evaluation_entity from './flow_devops_evaluation_entity';

export type Int64 = string | number;

export enum AsyncStatus {
  Running = 1,
  Success = 2,
  Failure = 3,
}

export enum CozeBotInfoType {
  /** 草稿 bot */
  DraftBot = 1,
  /** 商店 bot */
  ProductBot = 2,
}

/** 以一行數據集爲例：
列名：      input             output         context              person
列值：  "我適合什麼樣的工作"   "你適合休息"   "不喜歡挑戰、不喜歡出力"   "{性別：男， 年齡：18， 文憑：名牌大學畢業}"
Input 參數構建：
  Input: "我適合什麼樣的工作"
  Variables: map{ context: "不喜歡挑戰、不喜歡出力", person: "{性別：男， 年齡：18， 文憑：名牌大學畢業}" }
  Histories: null */
export interface Input {
  /** 數據集中的 input 列，一般代表評測Case中的用戶輸入 */
  input?: string;
  /** 數據集中，除 input、output 列之外，其他所有的列均視爲是 Variable，列名作爲 key、列值作爲 value */
  variables?: Record<string, flow_devops_evaluation_callback_common.Content>;
  /** 多輪評測場景中，數據集中的一行數據中又可拆分成 n 輪評測輸入。
在第 n 輪的評測中，Histories 傳入 [1 ~ n-1] 的信息，採用 Json 序列化。 第 n 輪的信息由 Input 字段傳入
此處前 n-1 輪的信息，採用 Json 序列化。序列化的 Schema 由評測任務制定，由評估器進行解析使用
例如：
Input: "我今天出門適合什麼穿搭？"
Histories：[{ "human": "我在XX市XX區，今天天氣怎麼樣", "assistant": "經過查詢天氣API，今天有雷陣雨，5級大風，溫度5度左右" }] */
  histories?: Array<flow_devops_evaluation_callback_common.Message>;
  input_v2?: flow_devops_evaluation_callback_common.Content;
}

/** 回調的殼子：
 既作爲服務端返回參數
 關聯對象時候，又作爲前端傳參的殼子 */
export interface Object {
  object_type: Int64;
  /** UI上針對評估對象的拉列表頁展示的名稱,objectMetaName */
  name?: string;
  /** 一方 Agent 中子評估對象的唯一標識和配置等相關信息。建議採用 Json 序列化透傳
ObjectMeta 的生產、傳遞、消費路徑：SearchObject(生產方)->評測平臺UI->評測平臺用戶圈選->評測平臺服務端->評測對象Playground(消費方)
ObjectMeta 由 評估對象服務方 生成和解析，評測平臺僅透傳
像內置的接口沒有這個字段 */
  object_meta?: string;
  /** 用於篩選哪些object可見 */
  space_id: Int64;
  /** 只用於展示的object信息，例如bot頭像 */
  avatar_url?: string;
  /** 回調業務方的env, 前端透傳該值，由evaluation解析後執行對應泳道的回調 */
  env?: string;
  /** UI在用例列表展示唯一子對象的id，需回調業務方填 */
  object_meta_id?: string;
  /** UI在用例列表展示，用戶在前端選中評測對象後，快照存儲用於在用例列表中展示 */
  object_type_name?: string;
  callback_type?: flow_devops_evaluation_entity.CallbackType;
}

export interface Output {
  /** 評估對象的輸出信息。評估器會以數據集中 output 列爲基準，對評估對象輸出的 Prediction 進行評測
Prediction 可以是 string、也可以是 JSON 結構體，需要與評估器對齊解析方式 */
  prediction?: string;
  prediction_v2?: flow_devops_evaluation_callback_common.Content;
  ext?: Record<string, string>;
}

/** 去回調業務search接口需要傳的key，通過這個key模糊搜索出一批ObjectMeta */
export interface SearchKey {
  /** 可以再改 */
  key: string;
}

export interface Usage {
  /** 計費信息。一次評估對象Playground執行時，內部總的輸入、輸出的Tokens的消耗 */
  input_tokens?: Int64;
  output_tokens?: Int64;
  first_token_latency?: Int64;
}
/* eslint-enable */
