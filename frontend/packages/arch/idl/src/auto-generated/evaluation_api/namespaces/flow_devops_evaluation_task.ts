/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
/* eslint-disable */
/* tslint:disable */
// @ts-nocheck

import * as flow_devops_evaluation_entity from './flow_devops_evaluation_entity';
import * as base from './base';
import * as flow_devops_evaluation_object_callback from './flow_devops_evaluation_object_callback';
import * as flow_devops_evaluation_manual_annotation from './flow_devops_evaluation_manual_annotation';
import * as flow_devops_evaluation_callback_common from './flow_devops_evaluation_callback_common';
import * as flow_devops_evaluation_evaluator_callback from './flow_devops_evaluation_evaluator_callback';
import * as flow_devops_evaluation_evaluator from './flow_devops_evaluation_evaluator';

export type Int64 = string | number;

/** 聚合方式 */
export enum AggregatorMode {
  Unknown = 0,
  /** 按照評測維度標籤聚合 */
  EvaluatorTag = 1,
}

/** 聚合器類型 */
export enum AggregatorType {
  Average = 1,
  Sum = 2,
  Max = 3,
  Min = 4,
  /** 使用double類型來表示百分比。例如50.5%設置爲0.505 */
  PassingRate = 5,
  ExcellentRate = 6,
  /** 人工選項打分，count 各選項並給出比例分佈 */
  Count = 7,
  Pct50 = 8,
  Pct90 = 9,
  Pct99 = 10,
}

export enum BatchTaskRetryMode {
  All = 1,
  Unsuccessful = 2,
}

export enum BitableStatus {
  Unknown = 0,
  /** 任務未開始 */
  Running = 1,
  /** 任務成功 */
  Success = 2,
  /** 任務失敗 */
  Failed = 3,
}

/** ChainTask模版類型 */
export enum ChainTaskTemplate {
  ChainTaskTemplate_Unknow = 0,
  ChainTaskTemplate_BotTemplate = 1,
}

/** 分析圖表的類型 */
export enum ChartType {
  Unknown = 0,
  /** 指標卡 */
  KPI = 1,
  /** 餅圖 */
  Pie = 2,
  /** 條形圖 */
  Bar = 3,
  /** 條形堆積圖 */
  StackedBar = 4,
  /** 雷達圖 */
  Radar = 5,
  /** 折線圖 */
  Line = 6,
}

export enum DataType {
  /** 默認，有小數的浮點數值類型 */
  Double = 0,
  JSON = 1,
}

/** 評估器資源 */
export enum EvaluateMode {
  /** 人工 */
  Manual = 0,
  /** 自動 */
  Auto = 1,
  /** 重置 */
  Reset = 2,
}

/** 關聯評估器 */
export enum EvaluateScope {
  /** data row 範圍 */
  Row = 0,
  /** 全case默認生效 */
  Case = 1,
}

export enum ExecutionPolicy {
  /** error 停止運行 */
  StopOnAnyError = 1,
  /** error 繼續執行後續任務 */
  ContinueOnAnyError = 2,
  /** 部分失敗繼續執行後續任務 */
  OnlyContinueOnPartialError = 3,
}

export enum ExportCSVSourceType {
  /** 後續可能遷移單報告爲服務端導出 */
  EvaluationTaskReport = 1,
  ContrastReport = 2,
}

export enum FilterField {
  Unknown = 0,
  /** 得分 */
  Score = 1,
  /** 數值 */
  Value = 2,
  /** 評測結果option value */
  OptionValue = 3,
  /** 標註 */
  Plaintext = 4,
  /** 數據集標籤 */
  DataSetTag = 5,
  /** 評測維度,對應於ruleID */
  RuleID = 6,
}

export enum FilterLogicOp {
  Unknown = 0,
  And = 1,
  Or = 2,
}

export enum FilterOperatorType {
  Unknown = 0,
  /** 等於 */
  Equal = 1,
  /** 不等於 */
  NotEqual = 2,
  /** 包含 */
  Contains = 3,
  /** 不包含 */
  NotContains = 4,
  /** 大於 */
  Greater = 5,
  /** 大於等於 */
  GreaterOrEqual = 6,
  /** 小於 */
  Less = 7,
  /** 小於等於 */
  LessOrEqual = 8,
  /** 空 */
  IsNull = 9,
  /** 非空 */
  IsNotNull = 10,
}

export enum FornaxAgentOpenAPIKey {
  Unknown = 0,
  Invoke = 1,
  Stream = 2,
}

export enum FornaxAgentTmplType {
  Unknown = 0,
  ChatBot = 1,
  OpenAPI = 2,
}

export enum GenAnnotationTaskCustomFilterLanguage {
  Unknown = 0,
  Golang = 1,
  Typescript = 2,
  Python = 3,
}

/** 分組方式 */
export enum GroupMode {
  Unknown = 0,
  /** 數據集標籤 */
  DataSetTag = 1,
  /** 按照option結果分組 */
  OptionResult = 2,
}

export enum ManualStatus {
  /** 不需要人工標註 */
  NoNeed = 0,
  /** 需要人工標註 */
  Need = 1,
}

export enum ModelResponseFormat {
  Text = 0,
  Markdown = 1,
  JSON = 2,
}

export enum ModelStyle {
  Custom = 0,
  Creative = 1,
  Balance = 2,
  Precise = 3,
}

/** 評估器資源 */
export enum PromptTemplateFormat {
  PromptTemplateFormat_FString = 0,
  PromptTemplateFormat_Jinja2 = 1,
}

export enum RetryMode {
  All = 1,
  /** 重試未成功的rowGroup */
  Unsuccessful = 2,
  /** 指定rowGroupID重試 */
  SpecifyRowGroup = 3,
}

export enum RowGroupRunState {
  Unknown = -1,
  /** 排隊中 */
  Queueing = 0,
  /** 執行中 */
  Processing = 1,
  /** 成功 */
  Success = 2,
  /** 失敗 */
  Fail = 3,
  /** 結果待評估 */
  Evaluating = 4,
  /** 終止執行 */
  Terminal = 5,
}

export enum RowRunState {
  /** 未開始執行 */
  Queueing = 0,
  /** 執行成功 */
  Success = 1,
  /** 執行失敗 */
  Fail = 2,
}

/** 表單展示元素類型 */
export enum ShowEntityType {
  /** 評測對象coze bot，對應使用 11:CozeEntityMap */
  CozeBot = 1,
  /** 評測對象prompt */
  Prompt = 2,
  /** 用戶信息 */
  User = 3,
  /** 註冊agent */
  Agent = 4,
}

/** SpecialObjectType 後面可單獨在 評估對象管理平臺上進行動態註冊，註冊的會動態分配 */
export enum SpecialObjectType {
  CozeBot = 0,
  Prompt = 1,
  ChainTask = 2,
  /** 接入 Fornax 的應用，Eino 框架默認集成 */
  FornaxApp = 3,
  /** CloudIDE 提供的 FornaxAgent */
  FornaxAgent = 4,
  PlaygroundCozeBot = 5,
  PlaygroundCozeBotV2 = 6,
  /** 結果集批量評測類型 */
  EvalResultDatasetCollection = 7,
  PlaygroundCozeModel = 8,
  CiciCrawl = 9,
  /** 自定義評測規則，idgen id 不可枚舉, 此 enum 僅用於搜索&過濾的 request */
  Custom = 100,
}

export enum TaskAggrReportGenStatus {
  /** 未生成，任務未執行完成 */
  NotGenerated = 0,
  /** 更新中 */
  Updating = 1,
  /** 運行時可查看報告詳情，完成 後展示整體得分和【查看聚合報告可點擊】 */
  Generated = 2,
  /** 完成後如果評分有更新，需要重新聚合計算 */
  NeedUpdate = 3,
}

export enum TaskManualStatus {
  NoNeed = 0,
  Need = 1,
  Completed = 2,
}

export enum TaskMode {
  Unknown = 0,
  /** 平臺手動運行Case */
  SubmitExec = 1,
  /** 在線評測場景 */
  OnlineSyncExec = 2,
}

export enum TaskStatus {
  /** 評測任務執行中，前端展示【運行中】 */
  Processing = 1,
  /** 評測任務創建中，初始話rowGroup狀態等操作，前端展示【創建中】 */
  Creating = 4,
  /** rowgroup持續評測並添加到任務，在線評測場景中使用 */
  Appending = 10,
  /** 執行完成且需要人工評分，前端展示【需要人工評分】 */
  NeedManualEval = 20,
  /** 用戶手動取消運行, 前端展示【已終止，用戶取消】 */
  Termination = 21,
  /** 系統主動終止任務，前端展示【已終止: 系統異常】 */
  SystemTermination = 22,
  /** 任務執行完成，前端展示【成功】 */
  Completed = 30,
  /** 執行完成，全部 rowGroup 都執行失敗，前端展示【失敗】 */
  Error = 31,
  /** 執行完成, 部分rowGroup失敗。前端展示【部分失敗】 */
  PartialFailure = 41,
  /** 任務已創建,等待任務被調度執行 */
  AwaitExecution = 42,
  /** 等待任務被重試 */
  AwaitRetry = 43,
}

export enum UserChangeMode {
  /** 無限制，用戶可讀寫、運行 */
  Default = 0,
  /** 不可編輯、不可觸發運行，可讀 */
  ReadOnly = 5,
}

export interface AggregateData {
  value?: number;
  json_info?: string;
  data_type?: DataType;
}

/** 聚合報告 */
export interface AggregateReport {
  /** 數據集的標籤樹結構 */
  tag_tree_node?: flow_devops_evaluation_entity.Node;
  /** node_id對應的標籤節點聚合結果 */
  node_results?: Record<Int64, AggregateResultRow>;
  /** 報告的評估規則列結構 */
  column_rule_info?: Array<ColumnRuleInfo>;
  /** 所有數據集標籤彙總結果,對應報告最後一行 */
  summarized_result?: AggregateResultRow;
}

/** 聚合統計結果 一個單元格數據，對應一種聚合器類型 */
export interface AggregateResultCell {
  aggregator_type?: AggregatorType;
  aggregate_data?: AggregateData;
}

/** 聚合報告一行數據 */
export interface AggregateResultRow {
  /** 規則維度聚合結果 */
  rule_results?: Array<RuleAggregateResult>;
  /** rowgroup總數 */
  total_num?: Int64;
  /** 所有評測規則彙總結果,對應報告最後一列 */
  summarized_result?: Array<AggregateResultCell>;
}

export interface AggregatorConfig {
  aggregator_type?: AggregatorType;
  intersection_evaluator_infos?: Array<IntersectionEvaluatorInfo>;
}

export interface AnalysisChartReportConfig {
  /** 圖表類型 */
  chart_type: ChartType;
  /** 指標粒度 */
  evaluator_granularity: flow_devops_evaluation_entity.EvaluatorGranularity;
  /** 聚合統計方式 */
  aggregator_type: AggregatorType;
  /** 評測維度list，即對應的rule_ids */
  rule_ids: Array<Int64>;
  /** 聚合方式list */
  aggregator_modes?: Array<AggregatorMode>;
  /** 分組方式 */
  group_mode?: GroupMode;
  /** 過濾條件(樹結構，過濾條件均在葉子節點上) */
  filter_node?: FilterNode;
  /** 報告名稱 */
  report_name?: string;
  /** 分組方式過濾條件(樹結構，過濾條件均在葉子節點上) */
  group_mode_filter?: FilterNode;
}

export interface AnalysisChartReportInfo {
  /** 分析圖表id */
  analysis_chart_report_id: Int64;
  aggregate_report?: AggregateReport;
  analysis_chart_report_config?: AnalysisChartReportConfig;
}

export interface AssociateAnalysisChartReportRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  /** 分析圖表id list */
  analysis_chart_report_ids: Array<Int64>;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface AssociateAnalysisChartReportResponse {
  BaseResp?: base.BaseResp;
}

export interface AssociateDatasetRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  cid?: string;
  Base?: base.Base;
}

export interface AssociateDatasetResponse {
  new_dataset_id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface AssociateDatasetV2Request {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  dataset_id: Int64;
  Base?: base.Base;
}

export interface AssociateDatasetV2Response {
  BaseResp?: base.BaseResp;
}

export interface AssociateEvalObjectRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  /** 評估對象 */
  eval_object?: EvalObject;
  cid?: string;
  Base?: base.Base;
}

export interface AssociateEvalObjectResponse {
  BaseResp?: base.BaseResp;
}

export interface AssociateEvaluatorRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  mode: EvaluateMode;
  scope: EvaluateScope;
  row_id?: Int64;
  row_group_id?: Int64;
  cid?: string;
  threshold?: ScoringThreshold;
  Base?: base.Base;
}

export interface AssociateEvaluatorResponse {
  /** EvaluateMode 是人工模式時， 不返回 NewRuleGroupID */
  new_rule_group_id?: Int64;
  BaseResp?: base.BaseResp;
}

/** ## bactch task run */
export interface BatchCaseTask {
  case_id: Int64;
  space_id_of_case: Int64;
  list_exec_runtime_parameter: Array<ExecRuntimeParameter>;
}

export interface BatchCreateCaseRequest {
  'FlowDevops-Agw-UserId'?: string;
  name_eval_object?: Record<string, EvalObject>;
  'FlowDevops-Agw-AppId'?: number;
  space_id?: Int64;
  region?: string;
  Base?: base.Base;
}

export interface BatchCreateCaseResponse {
  cases?: Array<Case>;
  BaseResp?: base.BaseResp;
}

export interface BatchGetRowEvalResRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  row_ids: Array<Int64>;
  space_id: Int64;
  Base?: base.Base;
}

export interface BatchGetRowEvalResResponse {
  /** key:rowID */
  row_eval_res_list?: Record<Int64, RowEvalRes>;
  BaseResp?: base.BaseResp;
}

export interface BatchTaskRet {
  batch_task_id: Int64;
  /** case 下的本次運行的task列表 */
  list_case_tasks?: Array<CaseTasks>;
}

export interface BizError {
  err_msg: string;
  err_code: Int64;
}

/** 用例實體 */
export interface Case {
  /** 用例ID */
  id?: Int64;
  /** 用例名稱 */
  name?: string;
  /** 用例描述 */
  desc?: string;
  /** 關聯的數據集信息 */
  dataset_source?: DatasetSource;
  /** 關聯評估集合 */
  evaluator_source?: EvaluatorSource;
  /** 評估對象 */
  eval_object?: EvalObject;
  /** 創建者 */
  creator_id?: Int64;
  /** 創建時間 */
  create_time?: Int64;
  /** 更新時間 */
  update_time?: Int64;
  /** Case 刪除時間 */
  delete_at?: Int64;
  /** 空間ID */
  space_id?: Int64;
  last_run_time?: Int64;
  region?: string;
  /** deprecated
該用例下最新的task的運行時參數，如果用例下沒有task，返回默認值 */
  latest_runtime_parameter?: string;
  /** UserChangeMode 用戶編輯用例權限
for在線評測場景，在線評測任務未完成前用戶不可編輯用例，在線評測任務完成後用例纔可編輯 */
  user_change_mode?: UserChangeMode;
  runtime_parameter_tip_content?: string;
  /** 這個字段有值代表是引用了已有數據集 */
  original_dataset_id?: Int64;
  /** 運行時參數和用例直接綁定，若用戶未編輯則爲默認值 */
  runtime_parameter?: string;
  /** 運行時參數默認值，自動化任務批量設置運行時參數場景使用 */
  default_runtime_parameter?: string;
}

/** case 維度評估器 */
export interface CaseEvaluatorSource {
  /** 人工模式下, 自動評估Evaluator資源失效 */
  mode?: EvaluateMode;
  /** task綁定Evaluator資源 */
  rule_group_id?: Int64;
}

export interface CaseTasks {
  case: Case;
  tasks?: Array<Task>;
}

export interface ChainTask {
  task_id: string;
  task_name?: string;
  /** 評測時候，chainTask的版本，需要前端傳 */
  version?: number;
  model_info?: string;
  chain_task_template?: ChainTaskTemplate;
  prompt_template_format?: PromptTemplateFormat;
  app_id?: string;
}

export interface CheckCaseEvaluatorRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface CheckCaseEvaluatorResponse {
  pass: boolean;
  check_result?: CheckResult;
  BaseResp?: base.BaseResp;
}

export interface CheckResult {
  over_limit_rows?: Array<Int64>;
  /** 沒有設置默認規則，存在大於0個row沒有配置默認規則 */
  lack_row_rule?: boolean;
  /** case 關聯數據集沒有數據 */
  lack_dataset_row?: boolean;
}

export interface CiciCrawl {
  bot_id: string;
  name?: string;
  avatar_url?: string;
  crawl_project_id?: string;
}

export interface CloneCaseRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  name: string;
  desc?: string;
  eval_object?: EvalObject;
  region?: string;
  Base?: base.Base;
}

export interface CloneCaseResponse {
  case_id: Int64;
}

export interface ColumnRuleInfo {
  rule_id: Int64;
  evaluator_type: Int64;
  /** 自定義評估器名稱 */
  evaluator_type_name: string;
  /** 規則名稱 */
  name?: string;
  /** 用於對話組粒度規則的合併單元格 */
  granularity?: flow_devops_evaluation_entity.EvaluatorGranularity;
}

export interface ComparisonAggregateReportInfo {
  task_id: Int64;
  case_id: Int64;
  aggregate_report?: AggregateReport;
}

export interface ComparisonTaskInfo {
  task_id: Int64;
  case_id: Int64;
}

export interface ContrastReportMetaInfo {
  contrast_report_id: Int64;
  name: string;
  /** 對比任務列表 */
  contrast_tasks?: Array<ContrastTask>;
}

export interface ContrastReportRowGroup {
  serial_num?: number;
  row_group_id?: Int64;
  tags?: Array<string>;
  /** row對比報告信息 */
  row_contrast_report_infos: Array<RowContrastReportInfo>;
  /** rowGroup對比報告信息 */
  row_group_contrast_report_info?: RowGroupContrastReportInfo;
}

export interface ContrastTask {
  case_id: Int64;
  task_id: Int64;
}

export interface CozeAgent {
  AgentID: Int64;
  AgentName: string;
  ModelInfo?: flow_devops_evaluation_entity.ModelInfo;
}

/** 評測CozeBot */
export interface CozeBot {
  bot_id?: Int64;
  /** 默認0， 是draft版本
deprecated */
  is_draft?: number;
  /** 創建case version 爲空，task實體會攜帶當前case run 時候 bot version */
  version?: Int64;
  /** Bot類型，默認0， 是draft版本 */
  bot_info_type?: flow_devops_evaluation_object_callback.CozeBotInfoType;
  /** 創建case connector_id 爲空，task實體會攜帶當前case run 時候 bot connector_id */
  connector_id?: string;
  model_info?: flow_devops_evaluation_entity.ModelInfo;
  bot_name?: string;
  avatar_url?: string;
  env?: string;
  bot_version?: string;
  Agents?: Array<CozeAgent>;
}

export interface CreateBatchTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  batch_case_tasks?: Array<BatchCaseTask>;
  'FlowDevops-Agw-AppId'?: number;
  default_exec_runtime_parameter?: ExecRuntimeParameter;
  execution_policy?: ExecutionPolicy;
  Base?: base.Base;
}

export interface CreateBatchTaskResponse {
  batch_task_id: Int64;
  BaseResp?: base.BaseResp;
}

export interface CreateCaseRequest {
  'FlowDevops-Agw-UserId'?: string;
  /** 用例名稱 */
  name: string;
  'FlowDevops-Agw-AppId'?: number;
  /** 用例所處空間 */
  space_id: Int64;
  /** 用例描述 */
  desc?: string;
  cid?: string;
  /** 是否打上tag, 默認不打上 */
  tag_list?: Array<flow_devops_evaluation_entity.TagInfo>;
  region?: string;
  UserChangeMode?: UserChangeMode;
  eval_object?: EvalObject;
  Base?: base.Base;
}

export interface CreateCaseResponse {
  /** 用例實體信息 */
  case?: Case;
  BaseResp?: base.BaseResp;
}

export interface CreateContrastReportReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id: Int64;
  name?: string;
  /** 對比任務列表 */
  contrast_tasks?: Array<ContrastTask>;
  Base?: base.Base;
}

export interface CreateContrastReportResp {
  id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface CreatePostColumnsReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  /** 人工標註項列表 */
  manual_annotation_items?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationItem>;
  task_id?: Int64;
  case_id?: Int64;
  Base?: base.Base;
}

export interface CreatePostColumnsResp {
  id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface CreatePostColumnsV2Req {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id?: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id?: Int64;
  case_id?: Int64;
  /** 人工標註項列表 */
  manual_annotation_items?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationItem>;
  source_type?: flow_devops_evaluation_manual_annotation.SourceType;
  Base?: base.Base;
}

export interface CreatePostColumnsV2Resp {
  id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface DashboardRow {
  /** 數據集結構 */
  row_id: Int64;
  /** 數據集cells（包含input, output, variable FIXME MultiCell上線後，廢棄 */
  cells: Array<string>;
  /** 評估報告新增
大模型真實輸出 FIXME  MultiOutput上線後廢棄 */
  output: Output;
  /** 評估器報告 */
  row_eval_cell: RowEvalCell;
  /** 二級詳情rule_group_id
deprecated 不爲0時表示該行包括了所有通用規則與行級規則的rule_group_id, */
  rule_group_id: Int64;
  /** 含多模態的輸出，兼容字段，全量上線後，廢棄Output */
  multi_output?: flow_devops_evaluation_object_callback.Output;
  /** 擴展2號字段，數據集多模態展示 */
  multi_cells?: Array<flow_devops_evaluation_callback_common.Content>;
  /** 軌跡信息 */
  trajectory?: flow_devops_evaluation_evaluator_callback.Trajectory;
  run_state?: RowRunState;
  /** deprecated */
  error_message?: string;
  /** Row執行時關聯的logID */
  log_id?: string;
  error?: RowRunError;
  /** 存在行級評估器時,行級評估器的group_id */
  row_rule_group_id?: Int64;
  /** 是否跳轉評估對象調用 trace */
  direct_object_trace?: boolean;
}

export interface DashboardRowGroup {
  row_group_id?: Int64;
  group_name?: string;
  rows: Array<DashboardRow>;
  run_state?: RowGroupRunState;
  tags?: Array<string>;
  /** rowGroup粒度評測規則ruleID -> 結果 */
  rule_eval_report_map?: Record<Int64, RowEvalReport>;
  serial_num?: number;
}

export interface DashboardTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  row_group_run_state?: RowGroupRunState;
  page?: Int64;
  page_size?: Int64;
  Base?: base.Base;
}

export interface DashboardTaskResponse {
  /** 每一行是一條數據集的(input, reference_output, variable)
和數據集裏的ColumnName一致 */
  column_name: Array<string>;
  dashboard_row_groups: Array<DashboardRowGroup>;
  column_rule_info?: Array<ColumnRuleInfo>;
  default_rule_group_id?: Int64;
  task_id?: Int64;
  /** 人工標註項 */
  manual_annotation_items?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationItem>;
  /** key是人工標註項ID，value是標註任務ID */
  manual_annotation_item_map?: Record<Int64, Int64>;
  /** 是否允許導出數據集內容 */
  not_allow_export_dataset_content?: boolean;
  total?: Int64;
  BaseResp?: base.BaseResp;
}

export interface DashboardTaskRowGroupRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  row_group_id: Int64;
  Base?: base.Base;
}

export interface DashboardTaskRowGroupResponse {
  /** 每一行是一條數據集的(input, reference_output, variable)
和數據集裏的ColumnName一致 */
  column_name: Array<string>;
  dashboard_row_group: DashboardRowGroup;
  column_rule_info?: Array<ColumnRuleInfo>;
  default_rule_group_id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface DashboardTaskV2Request {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  row_group_run_state?: RowGroupRunState;
  custom_filter?: GenAnnotationTaskCustomFilter;
  page?: Int64;
  page_size?: Int64;
  Base?: base.Base;
}

export interface DashboardTaskV2Response {
  /** 每一行是一條數據集的(input, reference_output, variable)
和數據集裏的ColumnName一致 */
  column_name: Array<string>;
  dashboard_row_groups: Array<DashboardRowGroup>;
  column_rule_info?: Array<ColumnRuleInfo>;
  default_rule_group_id?: Int64;
  task_id?: Int64;
  /** 人工標註項 */
  manual_annotation_items?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationItem>;
  /** key是人工標註項ID，value是標註任務ID */
  manual_annotation_item_map?: Record<Int64, Int64>;
  custom_filter_err_msg?: string;
  /** 是否允許導出數據集內容 */
  not_allow_export_dataset_content?: boolean;
  total?: Int64;
  BaseResp?: base.BaseResp;
}

export interface DatasetSource {
  dataset_id?: Int64;
  /** 數據集名稱：目前只有關聯已有的數據集有值，其他都是內部創建的沒有name */
  dataset_name?: string;
}

export interface DeleteAnalysisChartReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  /** 分析圖表id */
  analysis_chart_report_id: Int64;
  space_id: Int64;
  Base?: base.Base;
}

export interface DeleteAnalysisChartReportResponse {
  BaseResp?: base.BaseResp;
}

export interface DeleteCaseRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface DeleteCaseResponse {
  BaseResp?: base.BaseResp;
}

export interface DeleteContrastReportReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  Base?: base.Base;
}

export interface DeleteContrastReportResp {
  BaseResp?: base.BaseResp;
}

export interface DeleteTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface DeleteTaskResponse {
  BaseResp?: base.BaseResp;
}

export interface EvalObject {
  /** 評測對象的類型。每一個 RPC 接口，視爲一種類型 */
  object_type: Int64;
  /** ObjectType=0 時，傳參此字段。 評測對象爲 CozeBot 時, 需要設置 CozeBot 信息 */
  coze_bot?: CozeBot;
  /** ObjectType=1 時，傳參此字段。 評測對象爲 EvalPrompt 時, 需要設置 Prompt 信息 */
  prompt?: EvalPrompt;
  /** ObjectType 爲其他時，傳參此字段 */
  object?: flow_devops_evaluation_object_callback.Object;
  /** ObjectType=2 時，傳參此字段。 評測對象爲 ChainTask 時, 需要設置 ChainTask 信息 */
  chain_task?: ChainTask;
  fornax_app_object?: FornaxAppObject;
  fornax_agent_object?: FornaxAgentObject;
  playground_coze_bot_v2?: PlaygroundCozeBotV2;
  /** EvalResultDatasetCollection 類型對象數據 */
  eval_result_dataset_collection?: EvalResultDatasetCollection;
  playground_coze_model?: PlaygroundCozeModel;
  cici_crawl?: CiciCrawl;
}

export interface EvalPrompt {
  /** 一個prompt的唯一標識 */
  prompt_id: string;
  /** 評測時候，prompt的版本，需要前端傳 */
  version?: string;
  name?: string;
}

export interface EvalResultDatasetCollection {
  items: Array<EvalResultDatasetObject>;
}

export interface EvalResultDatasetObject {
  dataset_id: Int64;
  rule_group_id: Int64;
  dataset_name?: string;
}

export interface EvaluateResult {
  /** 打分 */
  score?: number;
  /** 打分過程與結果相關信息 */
  reasoning?: string;
  /** 是否需要人工打分, 當前rule 沒有自動評測結果時候， ManualStatus = ManualStatus */
  manual_status?: ManualStatus;
  /** 評估器錯誤 */
  error?: RowRunError;
  data?: EvaluateResultData;
  /** Row 維度打分範圍，如 Coze 場景下由用戶 LLM Prompt 決定評估器輸出打分範圍 */
  scoring_scope?: flow_devops_evaluation_entity.ScoringScope;
}

export interface EvaluateResultData {
  score?: number;
  value?: string;
  option?: flow_devops_evaluation_entity.EvaluateResultOption;
  plain_text?: string;
  data_type?: flow_devops_evaluation_entity.EvaluateResultDataType;
  value_type?: flow_devops_evaluation_entity.EvaluateResultValueType;
}

export interface EvaluatorSource {
  case_source?: CaseEvaluatorSource;
  /** row_id vs RowEvaluateSource */
  row_sources?: Record<Int64, RowEvaluatorSource>;
  /** 及格優秀閾值 */
  threshold?: ScoringThreshold;
}

export interface ExecCaseDynamicRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  cid?: string;
  /** 運行評測用例的運行時參數 json序列化 */
  runtime_parameter?: string;
  exec_times?: Int64;
  dataset_source?: DatasetSource;
  /** 關聯評估集合 */
  evaluator_source?: EvaluatorSource;
  /** 評估對象 */
  eval_object?: EvalObject;
  Base?: base.Base;
}

export interface ExecCaseDynamicResponse {
  task?: Task;
  task_ids?: Array<Int64>;
  tasks?: Array<Task>;
  BaseResp?: base.BaseResp;
}

export interface ExecCaseRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  cid?: string;
  /** 運行評測用例的運行時參數 json序列化 */
  runtime_parameter?: string;
  exec_times?: Int64;
  task_description?: string;
  Base?: base.Base;
}

export interface ExecCaseResponse {
  task?: Task;
  task_ids?: Array<Int64>;
  tasks?: Array<Task>;
  BaseResp?: base.BaseResp;
}

export interface ExecRuntimeParameter {
  /** map */
  runtime_parameter: string;
  exec_times: Int64;
}

export interface ExportBitableReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id: Int64;
  /** 人工評分盲評人數 */
  manual_scoring_user_num?: Int64;
  Base?: base.Base;
}

export interface ExportBitableReportResponse {
  BaseResp?: base.BaseResp;
}

export interface ExportReportToCsvRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  /** 評測報告導出需要caseID */
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  source_id?: Int64;
  source_type?: ExportCSVSourceType;
  Base?: base.Base;
}

export interface ExportReportToCsvResponse {
  /** 下載鏈接 */
  download_url?: string;
  BaseResp?: base.BaseResp;
}

export interface FilterCondition {
  /** 過濾字段，比如數據集標籤，評測維度，評測維度標籤等 */
  field?: FilterField;
  /** 操作符，比如等於、包含、大於、小於等 */
  operator?: FilterOperatorType;
  /** 操作值;支持多種類型的操作值；Operator爲包含的時候Value按照逗號分隔 */
  value?: string;
}

export interface FilterNode {
  /** 節點名稱(不必須) */
  name?: string;
  /** 標識該節點的標識ID */
  node_id?: Int64;
  /** 該節點上的過濾條件 */
  filter_conditions?: FilterCondition;
  /** 子節點 */
  children?: Array<FilterNode>;
  /** 邏輯操作，比如AND, OR */
  logic_op?: FilterLogicOp;
}

export interface FornaxAgentAPI {
  open_api_key?: FornaxAgentOpenAPIKey;
}

export interface FornaxAgentObject {
  agent_id: Int64;
  faas_id: string;
  name?: string;
  avatar_url?: string;
  tmpl_type?: FornaxAgentTmplType;
  /** 評測的目標 api */
  api?: FornaxAgentAPI;
}

export interface FornaxAppObject {
  psm: string;
  env: string;
  cluster: string;
  region: string;
  app_id: string;
  client_id: string;
  /** for 二級搜索 */
  object?: flow_devops_evaluation_object_callback.Object;
}

export interface GenAggregateComparisonReportRequest {
  aggregator_configs?: Array<AggregatorConfig>;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GenAggregateComparisonReportResponse {
  comparison_aggregate_report_infos?: Array<ComparisonAggregateReportInfo>;
  BaseResp?: base.BaseResp;
}

export interface GenAggregateReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GenAggregateReportResponse {
  BaseResp?: base.BaseResp;
}

export interface GenAnalysisChartReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  /** 分析報告的詳細配置 */
  analysis_chart_report_config: AnalysisChartReportConfig;
  space_id: Int64;
  Base?: base.Base;
}

export interface GenAnalysisChartReportResponse {
  analysis_chart_report_info?: AnalysisChartReportInfo;
  BaseResp?: base.BaseResp;
}

export interface GenAnnotationTaskCustomFilter {
  language?: GenAnnotationTaskCustomFilterLanguage;
  /** 用戶自定義代碼 */
  user_code?: string;
}

export interface GetAggregateReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GetAggregateReportResponse {
  aggregate_report?: AggregateReport;
  BaseResp?: base.BaseResp;
}

export interface GetBatchTaskHistoryRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  object_id: Int64;
  object_type: Int64;
  Base?: base.Base;
}

export interface GetBatchTaskHistoryResponse {
  batch_task_rets?: Array<BatchTaskRet>;
  BaseResp?: base.BaseResp;
}

export interface GetBatchTaskRetRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  batch_task_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  Base?: base.Base;
}

export interface GetBatchTaskRetResponse {
  batch_task_ret?: BatchTaskRet;
  BaseResp?: base.BaseResp;
}

export interface GetBitableReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id: Int64;
  Base?: base.Base;
}

export interface GetBitableReportResponse {
  /** 多維表格token */
  app_token?: string;
  url?: string;
  export_status: BitableStatus;
  import_status: BitableStatus;
  BaseResp?: base.BaseResp;
}

export interface GetCaseRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GetCaseResponse {
  case?: Case;
  BaseResp?: base.BaseResp;
}

export interface GetContrastReportReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  page?: Int64;
  page_size?: Int64;
  Base?: base.Base;
}

export interface GetContrastReportResp {
  /** 數據集列名 */
  column_name?: Array<string>;
  /** 規則信息 */
  column_rule_infos?: Array<ColumnRuleInfo>;
  /** 指標信息 */
  metrics_columns?: Array<ColumnRuleInfo>;
  /** 人工標註項 */
  manual_annotation_items?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationItem>;
  /** 基準任務 */
  task_id?: Int64;
  /** 對比任務列表 */
  contrast_tasks?: Array<ContrastTask>;
  contrast_report_row_groups?: Array<ContrastReportRowGroup>;
  default_rule_group_id?: Int64;
  /** key是人工標註項ID，value是標註任務ID */
  manual_annotation_item_map?: Record<Int64, Int64>;
  total?: Int64;
  BaseResp?: base.BaseResp;
}

export interface GetContrastReportV2Req {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  custom_filter?: GenAnnotationTaskCustomFilter;
  page?: Int64;
  page_size?: Int64;
  Base?: base.Base;
}

export interface GetContrastReportV2Resp {
  /** 數據集列名 */
  column_name?: Array<string>;
  /** 規則信息 */
  column_rule_infos?: Array<ColumnRuleInfo>;
  /** 指標信息 */
  metrics_columns?: Array<ColumnRuleInfo>;
  /** 人工標註項 */
  manual_annotation_items?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationItem>;
  /** 基準任務 */
  task_id?: Int64;
  /** 對比任務列表 */
  contrast_tasks?: Array<ContrastTask>;
  contrast_report_row_groups?: Array<ContrastReportRowGroup>;
  default_rule_group_id?: Int64;
  /** key是人工標註項ID，value是標註任務ID */
  manual_annotation_item_map?: Record<Int64, Int64>;
  custom_filter_err_msg?: string;
  total?: Int64;
  BaseResp?: base.BaseResp;
}

export interface GetIntersectionEvaluatorDimensionsRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_infos: Array<ComparisonTaskInfo>;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GetIntersectionEvaluatorDimensionsResponse {
  intersection_evaluator_infos?: Array<IntersectionEvaluatorInfo>;
  BaseResp?: base.BaseResp;
}

export interface GetTaskContrastReportMetaReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  Base?: base.Base;
}

export interface GetTaskContrastReportMetaResp {
  contrast_report_meta: ContrastReportMetaInfo;
  Base?: base.Base;
}

export interface GetTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GetTaskResponse {
  task?: Task;
  BaseResp?: base.BaseResp;
}

export interface GetTaskRuleGroupIdRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GetTaskRuleGroupIdResponse {
  rule_group_id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface GetTasksRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_ids: Array<Int64>;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface GetTasksResponse {
  tasks?: Array<Task>;
  BaseResp?: base.BaseResp;
}

export interface GroupManualScore {
  row_group_id: Int64;
  rule_scores?: Record<Int64, EvaluateResult>;
}

export interface GroupTaskInfo {
  task_ids?: Array<Int64>;
  /** 秒級時間戳 */
  create_time?: Int64;
}

export interface ImportBitableReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id: Int64;
  Base?: base.Base;
}

export interface ImportBitableReportResponse {
  BaseResp?: base.BaseResp;
}

export interface InitiateManualAnnotationTaskReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id?: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id?: Int64;
  case_id?: Int64;
  /** 人工標註項列表 */
  item_ids?: Array<Int64>;
  name?: string;
  description?: string;
  /** 標識範圍 */
  source_range?: flow_devops_evaluation_manual_annotation.SourceRange;
  /** 盲評數 */
  blind_count?: Int64;
  source_type?: flow_devops_evaluation_manual_annotation.SourceType;
  custom_filter?: GenAnnotationTaskCustomFilter;
  Base?: base.Base;
}

export interface InitiateManualAnnotationTaskResp {
  id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface IntersectionEvaluatorInfo {
  /** 共有的EvaluatorType */
  evaluator_type: Int64;
  intersection_rule_infos?: Array<IntersectionRuleInfo>;
}

export interface IntersectionRuleInfo {
  rule_id: Int64;
  task_id: Int64;
  case_id: Int64;
  /** 規則名稱 */
  name?: string;
  /** 自定義評估器名稱 */
  evaluator_type_name?: string;
  evaluator_process_type?: flow_devops_evaluation_evaluator.EvaluatorProcessType;
  evaluate_result_data_type?: flow_devops_evaluation_entity.EvaluateResultDataType;
}

export interface KillBatchTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  batch_task_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  Base?: base.Base;
}

export interface KillBatchTaskResponse {
  batch_task_id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface KillRunningTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface KillRunningTaskResponse {
  task?: Task;
  BaseResp?: base.BaseResp;
}

export interface ListTaskContrastReportReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  task_id: Int64;
  Base?: base.Base;
}

export interface ListTaskContrastReportResp {
  contrast_report_meta_infos: Array<ContrastReportMetaInfo>;
  BaseResp?: base.BaseResp;
}

export interface ManualScore {
  row_id: Int64;
  /** key = ruleID, 規則失敗, 規則可以進行人工打分 */
  rule_scores?: Record<Int64, EvaluateResult>;
  /** Row選擇人工評測時候, Row 人工打分 */
  row_score?: EvaluateResult;
}

export interface ManualScoreFowRowsRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  /** key:rowID */
  manual_scores?: Record<Int64, ManualScore>;
  space_id: Int64;
  /** key:rowGroupID */
  group_manual_scores?: Record<Int64, GroupManualScore>;
  Base?: base.Base;
}

export interface ManualScoreFowRowsResponse {
  /** key:rowID */
  row_eval_res_list?: Record<Int64, RowEvalRes>;
  BaseResp?: base.BaseResp;
}

export interface MGetCaseRequest {
  case_ids: Array<Int64>;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface MGetCaseResponse {
  cases?: Array<Case>;
  BaseResp?: base.BaseResp;
}

export interface Output {
  prediction: string;
}

/** Coze2.0Bot */
export interface PlaygroundCozeBotV2 {
  bot_id?: Int64;
  /** 創建case version 爲空，task實體會攜帶當前case run 時候 bot version */
  bot_version?: string;
  /** Bot類型，默認0， 是draft版本 */
  bot_info_type?: flow_devops_evaluation_object_callback.CozeBotInfoType;
  model_info?: flow_devops_evaluation_entity.ModelInfo;
  bot_name?: string;
  avatar_url?: string;
}

/** Coze2.0 model */
export interface PlaygroundCozeModel {
  /** 模型id */
  model_id?: string;
  /** 溫度，模型輸出隨機性，值越大越隨機，越小越保守(0-1] */
  temperature?: number;
  /** 回覆最大Token數 */
  max_tokens?: number;
  /** 另一種模型的輸出隨機性，值越大越隨機[0,1] */
  top_p?: number;
  /** 生成時，採樣候選集的大小 */
  top_k?: number;
  /** 頻率懲罰，調整生成內容中的單詞頻率，正值單詞越少見[-1.0,1.0] */
  frequency_penalty?: number;
  /** 存在懲罰，調整生成內容中新詞語頻率，正值避免重複單詞，用新詞[-1.0,1.0] */
  presence_penalty?: number;
  /** 模型回覆內容格式 */
  response_format?: ModelResponseFormat;
  /** 模型名稱 */
  model_name?: string;
}

export interface PullCaseExecHistoryRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  cursor: string;
  'FlowDevops-Agw-AppId'?: number;
  limit: number;
  space_id: Int64;
  /** 起始時間，Unix時間戳 */
  start_time?: Int64;
  /** 結束時間，Unix時間戳 */
  end_time?: Int64;
  DatasetIDs?: Array<Int64>;
  /** 任務描述 */
  task_description?: string;
  Base?: base.Base;
}

export interface PullCaseExecHistoryResponse {
  tasks?: Array<Task>;
  has_more?: boolean;
  next_cursor?: string;
  /** 分組展示任務信息 */
  group_task_info_list?: Array<GroupTaskInfo>;
  /** deprecated */
  coze_entity_map?: Record<Int64, ShowEntity>;
  /** deprecated */
  prompt_entity_map?: Record<Int64, ShowEntity>;
  user_entity_map?: Record<Int64, ShowEntity>;
  /** deprecated */
  agent_entity_map?: Record<Int64, ShowEntity>;
  BaseResp?: base.BaseResp;
}

export interface PullCaseExecHistoryV2Request {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  cursor: string;
  'FlowDevops-Agw-AppId'?: number;
  limit: number;
  space_id: Int64;
  /** 起始時間，Unix時間戳 */
  start_time?: Int64;
  /** 結束時間，Unix時間戳 */
  end_time?: Int64;
  dataset_ids?: Array<Int64>;
  creator_ids?: Array<Int64>;
  /** 任務描述 */
  task_description?: string;
  Base?: base.Base;
}

export interface PullCaseExecHistoryV2Response {
  tasks?: Array<Task>;
  has_more?: boolean;
  next_cursor?: string;
  /** 分組展示任務信息 */
  group_task_info_list?: Array<GroupTaskInfo>;
  /** deprecated */
  coze_entity_map?: Record<Int64, ShowEntity>;
  /** deprecated */
  prompt_entity_map?: Record<Int64, ShowEntity>;
  user_entity_map?: Record<Int64, ShowEntity>;
  /** deprecated */
  agent_entity_map?: Record<Int64, ShowEntity>;
  BaseResp?: base.BaseResp;
}

export interface PullCaseRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  cursor: string;
  'FlowDevops-Agw-AppId'?: number;
  limit: number;
  tag_name?: string;
  tag_value?: string;
  /** -- search fields -- */
  fuzzy_name?: string;
  creator_id?: Int64;
  region?: string;
  /** 評測對象類型，see EvalObject.ObjectType */
  object_type?: Int64;
  dataset_ids?: Array<Int64>;
  Base?: base.Base;
}

export interface PullCaseResponse {
  cases?: Array<Case>;
  has_more?: boolean;
  next_cursor?: string;
  /** Deprecated: CozeEntityMap 已不再使用獲取coze信息從EvalObject獲取
deprecated */
  coze_entity_map?: Record<Int64, ShowEntity>;
  /** PromptEntityMap UserEntityMap AgentEntityMap 後續全部遷移至從EvalObject獲取
deprecated */
  prompt_entity_map?: Record<Int64, ShowEntity>;
  user_entity_map?: Record<Int64, ShowEntity>;
  /** deprecated */
  agent_entity_map?: Record<Int64, ShowEntity>;
  BaseResp?: base.BaseResp;
}

export interface PullCaseV2Request {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  cursor: string;
  'FlowDevops-Agw-AppId'?: number;
  limit: number;
  tag_name?: string;
  tag_value?: string;
  /** -- search fields -- */
  fuzzy_name?: string;
  creator_id?: Int64;
  region?: string;
  /** 評測對象類型，see EvalObject.ObjectType */
  object_type?: Int64;
  dataset_ids?: Array<Int64>;
  Base?: base.Base;
}

export interface PullCaseV2Response {
  cases?: Array<Case>;
  has_more?: boolean;
  next_cursor?: string;
  /** Deprecated: CozeEntityMap 已不再使用獲取coze信息從EvalObject獲取
deprecated */
  coze_entity_map?: Record<Int64, ShowEntity>;
  /** PromptEntityMap UserEntityMap AgentEntityMap 後續全部遷移至從EvalObject獲取
deprecated */
  prompt_entity_map?: Record<Int64, ShowEntity>;
  user_entity_map?: Record<Int64, ShowEntity>;
  /** deprecated */
  agent_entity_map?: Record<Int64, ShowEntity>;
  BaseResp?: base.BaseResp;
}

export interface PullTaskAnalysisChartReportsRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  cursor: string;
  limit: number;
  space_id: Int64;
  Base?: base.Base;
}

export interface PullTaskAnalysisChartReportsResponse {
  analysis_chart_report_infos?: Array<AnalysisChartReportInfo>;
  has_more?: boolean;
  next_cursor?: string;
  BaseResp?: base.BaseResp;
}

export interface RetryExecBatchTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  batch_task_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  /** 重試模式 */
  mode: BatchTaskRetryMode;
  Base?: base.Base;
}

export interface RetryExecBatchTaskResponse {
  batch_task_id?: Int64;
  BaseResp?: base.BaseResp;
}

export interface RetryExecTaskRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  /** 重試模式 */
  mode?: RetryMode;
  row_group_id?: Array<Int64>;
  Base?: base.Base;
}

export interface RetryExecTaskResponse {
  task?: Task;
  BaseResp?: base.BaseResp;
}

export interface RowContrastReportInfo {
  /** key是任務ID */
  row_report_map?: Record<Int64, RowReport>;
}

export interface RowEvalCell {
  /** 人工評分, 僅在 ManualStatus =  Completed 有效 */
  manual_result?: EvaluateResult;
  /** key:rule_id, 行級數據，單個規則的評測結果 */
  rule_eval_report_map?: Record<Int64, RowEvalReport>;
  token?: Int64;
  consuming?: Int64;
  create_time?: Int64;
  end_time?: Int64;
  space_id?: Int64;
  /** 該row所有自動評測rule或人工評分維度按權重聚合後的總分 */
  score?: number;
  rule_eval_reports?: Array<RowEvalReport>;
  row_metrics?: Array<RowEvalReport>;
  manual_annotation_reports?: Array<flow_devops_evaluation_manual_annotation.ManualAnnotationLabelTask>;
}

/** 每個評估器對應的評分 */
export interface RowEvalReport {
  /** TODO:後期需要轉爲真實的evaluatorName，先暫時用EvaluatorType表示一個評估器 */
  evaluator_type?: Int64;
  row_eval_result?: EvaluateResult;
  /** 評估器的名稱 */
  evaluator_type_name?: string;
  weight?: Int64;
  /** 如果是行級規則需要在單獨的列展示 */
  is_row_evaluator?: boolean;
  name?: string;
}

export interface RowEvalRes {
  task_id?: Int64;
  /** 人工評分, 僅在 ManualStatus =  Completed 有效 */
  manual_result?: EvaluateResult;
  /** 數據的RowID */
  row_id?: Int64;
  row_group_id?: Int64;
  evaluator_id?: Int64;
  /** key:RuleID, 行級數據，單個規則的評測結果 */
  rule_eval_results?: Record<Int64, EvaluateResult>;
  token?: Int64;
  consuming?: Int64;
  /** bot運行結果 */
  output?: string;
  create_time?: Int64;
  end_time?: Int64;
  space_id?: Int64;
  case_id?: Int64;
}

/** row 維度評估器 */
export interface RowEvaluatorSource {
  /** 人工模式下, 自動評估Evaluator資源失效 */
  mode?: EvaluateMode;
  row_id?: Int64;
  row_group_id?: Int64;
  /** 當前行綁定Evaluator資源 */
  rule_group_id?: Int64;
}

export interface RowGroupContrastReportInfo {
  /** key是任務ID */
  row_group_report_map?: Record<Int64, RowGroupReport>;
}

export interface RowGroupReport {
  row_eval_reports?: Array<RowEvalReport>;
}

export interface RowReport {
  /** 數據集結構 */
  row_id: Int64;
  /** 數據集cell信息 */
  cells?: Array<flow_devops_evaluation_callback_common.Content>;
  /** 實際輸出 */
  multi_output?: flow_devops_evaluation_object_callback.Output;
  /** 評估器報告信息 */
  row_eval_cell: RowEvalCell;
  /** 軌跡信息 */
  trajectory?: flow_devops_evaluation_evaluator_callback.Trajectory;
  run_state?: RowRunState;
  /** Row執行時關聯的logID */
  log_id?: string;
  error?: RowRunError;
  /** 存在行級評估器時,行級評估器的group_id */
  row_rule_group_id?: Int64;
  /** 是否跳轉評估對象調用 trace */
  direct_object_trace?: boolean;
}

export interface RowRunError {
  code: Int64;
  message: string;
  /** for prompt platform */
  detail: string;
  BizError?: BizError;
}

export interface RuleAggregateResult {
  aggregate_result_cells?: Array<AggregateResultCell>;
  rule_id?: Int64;
}

export interface ScoringThreshold {
  /** 及格率閾值 */
  pass_threshold?: number;
  /** 優秀率閾值 */
  excellent_threshold?: number;
}

/** 僅用於表單中展示 */
export interface ShowEntity {
  /** 展示ID, user_id, prompt_id */
  entity_id: Int64;
  /** 展示的名字, 例如prompt_name,bot_name，user_name */
  entity_name?: string;
  entity_type?: ShowEntityType;
  /** 展示的小圖標，例如頭像 */
  image_url?: string;
  /** 如果是用戶有郵箱 */
  email?: string;
}

export interface Task {
  id?: Int64;
  status?: TaskStatus;
  dataset_id?: Int64;
  /** run case時候的評測對象實體，包含版本信息 */
  eval_object?: EvalObject;
  /** 運行的測數據行數 */
  row_run_cnt?: Int64;
  /** 任務整體開銷 */
  token?: Int64;
  /** 任務整體耗時 */
  consuming?: Int64;
  /** 任務開始執行時間 */
  start_time?: Int64;
  /** 任務執行完成時間 */
  end_time?: Int64;
  creator_id?: Int64;
  /** 執行本次任務的log_id */
  log_id?: string;
  /** 本次執行失敗的原因文案 */
  object_output_err?: string;
  /** 任務統計, RowGroup維度 */
  task_stats?: TaskStats;
  /** 任務人工評分統計, Row維度 */
  task_manual_stats?: TaskManualStats;
  /** 任務人工評分狀態 */
  task_manual_status?: TaskManualStatus;
  /** 聚合報告生成狀態 */
  aggr_report_gen_status?: TaskAggrReportGenStatus;
  score?: number;
  passing_rate?: number;
  excellent_rate?: number;
  /** 及格優秀閾值 */
  threshold?: ScoringThreshold;
  /** deprecated 評測對象整體 token消耗 */
  object_token_usage?: TokenUsage;
  /** 運行時參數，json序列化 */
  runtime_parameter?: string;
  /** 評測對象整體 token 消耗 */
  object_token_cost?: TokenUsage;
  /** 數據集名稱 */
  dataset_name?: string;
  /** 原始數據集ID */
  original_dataset_id?: Int64;
  /** 評估器整體 token 消耗 */
  evaluator_token_usage?: TokenUsage;
  credit_cost?: number;
  description?: string;
}

export interface TaskManualStats {
  needed_row_count?: Int64;
  completed_row_count?: Int64;
  /** 需要group粒度人工評分的對話組數 */
  needed_row_group_count?: Int64;
  /** 已完成group粒度人工評分的對話組數 */
  completed_row_group_count?: Int64;
}

export interface TaskStats {
  uncompleted_count?: Int64;
  success_count?: Int64;
  fail_count?: Int64;
  /** 最終執行成功的 row 數量 */
  success_row_count?: Int64;
  /** 最終執行失敗的 row 數量 */
  fail_row_count?: Int64;
  /** 執行過的 row 數量總和 */
  total_row_count?: Int64;
}

export interface TokenUsage {
  /** input token消耗 */
  input_token: Int64;
  /** output token消耗 */
  output_token: Int64;
}

export interface UnbindDatasetRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  dataset_id: Int64;
  Base?: base.Base;
}

export interface UnbindDatasetResponse {
  BaseResp?: base.BaseResp;
}

export interface UpdateAnalysisChartReportRequest {
  'FlowDevops-Agw-UserId'?: string;
  task_id: Int64;
  case_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  /** 分析圖表id */
  analysis_chart_report_id: Int64;
  /** 圖表類型 */
  analysis_chart_report_config: AnalysisChartReportConfig;
  space_id: Int64;
  Base?: base.Base;
}

export interface UpdateAnalysisChartReportResponse {
  analysis_chart_report_info?: AnalysisChartReportInfo;
  BaseResp?: base.BaseResp;
}

export interface UpdateCaseRequest {
  case_id: Int64;
  'FlowDevops-Agw-UserId'?: string;
  'FlowDevops-Agw-AppId'?: number;
  space_id: Int64;
  name?: string;
  desc?: string;
  runtime_parameter?: string;
  Base?: base.Base;
}

export interface UpdateCaseResponse {
  case?: Case;
  BaseResp?: base.BaseResp;
}

export interface UpdateContrastReportReq {
  'FlowDevops-Agw-UserId'?: string;
  space_id: Int64;
  contrast_report_id: Int64;
  'FlowDevops-Agw-AppId'?: number;
  name?: string;
  Base?: base.Base;
}

export interface UpdateContrastReportResp {
  BaseResp?: base.BaseResp;
}
/* eslint-enable */
