/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
/* eslint-disable */
/* tslint:disable */
// @ts-nocheck

import * as datasetv2similarity from './datasetv2similarity';
import * as tag from './tag';

export type Int64 = string | number;

export enum ContentType {
  /** 基礎類型 */
  Text = 1,
  Image = 2,
  Audio = 3,
  Video = 4,
  /** 圖文混排 */
  MultiPart = 100,
}

export enum DatasetCategory {
  /** 數據集 */
  General = 1,
  /** 訓練集 (暫無) */
  Training = 2,
  /** 驗證集 (暫無) */
  Validation = 3,
  /** 評測集 (暫無) */
  Evaluation = 4,
}

export enum DatasetLockReason {
  Undefined = 0,
  /** 衆包標註任務正在運行 */
  CrowdsourcingAnnotateJobRunning = 1,
}

export enum DatasetStatus {
  Available = 1,
  Deleted = 2,
  Expired = 3,
  Importing = 4,
  Exporting = 5,
  Indexing = 6,
}

export enum DatasetVisibility {
  /** 所有空間可見 */
  Public = 1,
  /** 當前空間可見 */
  Space = 2,
  /** 用戶不可見 */
  System = 3,
}

export enum FieldDisplayFormat {
  PlainText = 1,
  Markdown = 2,
  JSON = 3,
  YAML = 4,
  Code = 5,
  SingleOption = 6,
}

export enum FieldStatus {
  Available = 1,
  Deleted = 2,
}

export enum FieldTransformationType {
  /** 移除未在當前列的 jsonSchema 中定義的字段（包括 properties 和 patternProperties），僅在列類型爲 struct 時有效 */
  RemoveExtraFields = 1,
}

export enum ItemErrorType {
  /** schema 不匹配 */
  MismatchSchema = 1,
  /** 空數據 */
  EmptyData = 2,
  /** 單條數據大小超限 */
  ExceedMaxItemSize = 3,
  /** 數據集容量超限 */
  ExceedDatasetCapacity = 4,
  /** 文件格式錯誤 */
  MalformedFile = 5,
  /** 包含非法內容 */
  IllegalContent = 6,
  /** 缺少必填字段 */
  MissingRequiredField = 7,
  /** 數據嵌套層數超限 */
  ExceedMaxNestedDepth = 8,
  /** 數據轉換失敗 */
  TransformItemFailed = 9,
  /** system error */
  InternalError = 100,
  /** 清空數據集失敗 */
  ClearDatasetFailed = 101,
  /** 讀寫文件失敗 */
  RWFileFailed = 102,
}

export enum SchemaKey {
  String = 1,
  Integer = 2,
  Float = 3,
  Bool = 4,
  Message = 5,
  /** 單選 */
  SingleChoice = 6,
}

export enum SecurityLevel {
  L1 = 1,
  L2 = 2,
  L3 = 3,
  L4 = 4,
}

export enum SnapshotStatus {
  Unstarted = 1,
  InProgress = 2,
  Completed = 3,
  Failed = 4,
}

export enum StorageProvider {
  TOS = 1,
  VETOS = 2,
  HDFS = 3,
  ImageX = 4,
  /** 後端內部使用 */
  Abase = 100,
  RDS = 101,
  LocalFS = 102,
}

/** Dataset 數據集實體 */
export interface Dataset {
  id: string;
  appID?: number;
  spaceID: string;
  schemaID: string;
  name?: string;
  description?: string;
  status?: DatasetStatus;
  /** 業務場景分類 */
  category?: DatasetCategory;
  /** 提供給上層業務定義數據集類別 */
  bizCategory?: string;
  /** 當前數據集結構 */
  schema?: DatasetSchema;
  /** 密級 */
  securityLevel?: SecurityLevel;
  /** 可見性 */
  visibility?: DatasetVisibility;
  /** 規格限制 */
  spec?: DatasetSpec;
  /** 數據集功能開關 */
  features?: DatasetFeatures;
  /** 最新的版本號 */
  latestVersion?: string;
  /** 下一個的版本號 */
  nextVersionNum?: Int64;
  /** 數據條數 */
  itemCount?: string;
  /** 通用信息 */
  createdBy?: string;
  createdAt?: string;
  updatedBy?: string;
  updatedAt?: string;
  expiredAt?: string;
  /** DTO 專用字段
是否有未提交的修改 */
  changeUncommitted?: boolean;
  /** 數據集鎖定信息 */
  lockInfo?: Array<DatasetLockInfo>;
}

export interface DatasetFeatures {
  /** 變更 schema */
  editSchema?: boolean;
  /** 多輪數據 */
  repeatedData?: boolean;
  /** 多模態 */
  multiModal?: boolean;
}

/** DatasetItem 數據內容 */
export interface DatasetItem {
  /** 主鍵 ID，創建時可以不傳 */
  id?: string;
  /** 冗餘 app ID，創建時可以不傳 */
  appID?: number;
  /** 冗餘 space ID，創建時可以不傳 */
  spaceID?: string;
  /** 所屬的 data ID，創建時可以不傳 */
  datasetID?: string;
  /** 插入時對應的 schema ID，後端根據 req 參數中的 datasetID 自動填充 */
  schemaID?: string;
  /** 數據在當前數據集內的唯一 ID，不隨版本發生改變 */
  itemID?: string;
  /** 數據插入的冪等 key */
  itemKey?: string;
  /** 數據內容 */
  data?: Array<FieldData>;
  /** 多輪數據內容，與 data 互斥 */
  repeatedData?: Array<ItemData>;
  /** 通用信息 */
  createdBy?: string;
  createdAt?: string;
  updatedBy?: string;
  updatedAt?: string;
  /** DTO 專用字段
數據（data 或 repeatedData）是否省略。列表查詢 item 時，特長的數據內容不予返回，可通過單獨 Item 接口獲取內容 */
  dataOmitted?: boolean;
}

export interface DatasetLockInfo {
  reason?: DatasetLockReason;
  /** 衆包標註任務ID */
  crowdsourcingAnnotateJobID?: string;
}

/** DatasetSchema 數據集 Schema，包含數據集列的類型限制等信息 */
export interface DatasetSchema {
  /** 主鍵 ID，創建時可以不傳 */
  id?: string;
  /** schema 所在的空間 ID，創建時可以不傳 */
  appID?: number;
  /** schema 所在的空間 ID，創建時可以不傳 */
  spaceID?: string;
  /** 數據集 ID，創建時可以不傳 */
  datasetID?: string;
  /** 數據集列約束 */
  fields?: Array<FieldSchema>;
  /** 是否不允許編輯 */
  immutable?: boolean;
  /** 通用信息 */
  createdBy?: string;
  createdAt?: string;
  updatedBy?: string;
  updatedAt?: string;
  updateVersion?: string;
}

export interface DatasetSpec {
  /** 條數上限 */
  maxItemCount?: string;
  /** 字段數量上限 */
  maxFieldCount?: number;
  /** 單條數據字數上限 */
  maxItemSize?: string;
  /** 單條 array/struct 數據嵌套上限 */
  maxItemDataNestedDepth?: number;
}

/** DatasetVersion 數據集版本元信息，不包含數據本身 */
export interface DatasetVersion {
  id: string;
  appID?: number;
  spaceID: string;
  datasetID: string;
  schemaID: string;
  /** 展示的版本號，SemVer2 三段式 */
  version?: string;
  /** 後端記錄的數字版本號，從 1 開始遞增 */
  versionNum?: string;
  /** 版本描述 */
  description?: string;
  /** marshal 後的版本保存時的數據集元信息，不包含 schema */
  datasetBrief?: string;
  /** 數據條數 */
  itemCount?: string;
  /** 當前版本的快照狀態 */
  snapshotStatus?: SnapshotStatus;
  /** 通用信息 */
  createdBy?: string;
  createdAt?: string;
  /** 版本禁用的時間 */
  disabledAt?: string;
  updatedBy?: string;
  updatedAt?: string;
}

export interface FieldData {
  key?: string;
  /** 字段名，寫入 Item 時 key 與 name 提供其一即可，同時提供時以 key 爲準 */
  name?: string;
  contentType?: ContentType;
  content?: string;
  /** 外部存儲信息 */
  attachments?: Array<ObjectStorage>;
  /** 數據的渲染格式 */
  format?: FieldDisplayFormat;
  /** 圖文混排時，圖文內容 */
  parts?: Array<FieldData>;
  /** 這條數據生成traceID */
  traceID?: string;
  /** 是否生成失敗 */
  genFail?: boolean;
  /** 標籤迴流失敗後的展示名稱 */
  fallbackDisplayName?: string;
}

export interface FieldSchema {
  /** 數據集 schema 版本變化中 key 唯一，新建時自動生成，不需傳入 */
  key?: string;
  /** 展示名稱 */
  name?: string;
  /** 描述 */
  description?: string;
  /** 類型，如 文本，圖片，etc. */
  contentType?: ContentType;
  /** 默認渲染格式，如 code, json, etc. */
  defaultFormat?: FieldDisplayFormat;
  /** 對應的內置 schema */
  schemaKey?: SchemaKey;
  /** [20,50) 內容格式限制相關
文本內容格式限制，格式爲 JSON schema，協議參考 https://json-schema.org/specification */
  textSchema?: string;
  /** 多模態規格限制 */
  multiModelSpec?: MultiModalSpec;
  /** 當前列的數據是否必填，不填則會報錯 */
  isRequired?: boolean;
  /** 用戶是否不可見 */
  hidden?: boolean;
  /** 當前列的狀態，創建/更新時可以不傳 */
  status?: FieldStatus;
  /** 是否開啓相似度索引 */
  similaritySearchConfig?: SimilaritySearchConfig;
  /** 質量分配置 */
  qualityScoreConfig?: QualityScoreConfig;
  /** 標籤字段配置 */
  tagFieldConfig?: TagFieldConfig;
  /** 默認的預置轉換配置，目前在數據校驗後執行 */
  defaultTransformations?: Array<FieldTransformationConfig>;
}

export interface FieldTransformationConfig {
  /** 預置的轉換類型 */
  transType?: FieldTransformationType;
  /** 當前轉換配置在這一列上的數據及其嵌套的子結構上均生效 */
  global?: boolean;
}

export interface FileUploadToken {
  accessKeyID?: string;
  secretAccessKey?: string;
  sessionToken?: string;
  expiredTime?: string;
  currentTime?: string;
}

export interface ItemData {
  id?: string;
  data?: Array<FieldData>;
}

export interface ItemErrorDetail {
  message?: string;
  /** 單條錯誤數據在輸入數據中的索引。從 0 開始，下同 */
  index?: number;
  /** [startIndex, endIndex] 表示區間錯誤範圍, 如 ExceedDatasetCapacity 錯誤時 */
  startIndex?: number;
  endIndex?: number;
  /** ItemErrorType=MismatchSchema, key 爲 FieldSchema.name, value 爲錯誤信息 */
  messagesByField?: Record<string, string>;
}

export interface ItemErrorGroup {
  type?: ItemErrorType;
  summary?: string;
  /** 錯誤條數 */
  errorCount?: number;
  /** 批量寫入時，每類錯誤至多提供 5 個錯誤詳情；導入任務，至多提供 10 個錯誤詳情 */
  details?: Array<ItemErrorDetail>;
}

export interface MultiModalSpec {
  /** 文件數量上限 */
  maxFileCount?: Int64;
  /** 文件大小上限 */
  maxFileSize?: Int64;
  /** 文件格式 */
  supportedFormats?: Array<string>;
}

export interface ObjectStorage {
  provider?: StorageProvider;
  name?: string;
  uri?: string;
  url?: string;
  thumbURL?: string;
}

export interface OrderBy {
  /** 排序字段 */
  field?: string;
  /** 升序，默認倒序 */
  isAsc?: boolean;
}

/** 質量分配置 */
export interface QualityScoreConfig {
  /** 列是否爲質量分 */
  enabled?: boolean;
}

/** 相似度算法的配置 */
export interface SimilaritySearchConfig {
  /** 是否開啓相似度索引 */
  enabled?: boolean;
  /** 配置了哪個相似度算法 */
  similarityAlgorithm?: datasetv2similarity.SimilarityAlgorithm;
  /** 所使用的相似度模型 */
  embeddingType?: datasetv2similarity.EmbeddingModel;
}

export interface TagFieldConfig {
  /** tag配置 */
  tagInfo?: tag.TagInfo;
}
/* eslint-enable */
