/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
/* eslint-disable */
/* tslint:disable */
// @ts-nocheck

import * as common from './common';
import * as base from './base';
import * as connector_common from './connector_common';

export type Int64 = string | number;

export enum SegmentAppendType {
  /** 佔位 */
  SegmentAppendType_None = 0,
  /** 尾部追加 */
  SegmentAppendType_Tail = 1,
  /** 提前定義，本次不用
頭部 */
  SegmentAppendType_Head = 2,
  /** 中間 */
  SegmentAppendType_Mid = 3,
}

export enum TableDataType {
  /** schema sheets 和 preview data */
  AllData = 0,
  /** 只需要 schema 結構 & Sheets */
  OnlySchema = 1,
  /** 只需要 preview data */
  OnlyPreview = 2,
}

export interface AddSegmentRequest {
  space_id: string;
  document_id: string;
  source_type: common.DocumentSourceType;
  source_file: common.SourceFileInfo;
  user_table_info: DocumentTableTaskInfo;
  append_type: SegmentAppendType;
  /** 提前定義，本次不用 */
  append_sequence?: Int64;
  Base?: base.Base;
}

export interface AddSegmentResponse {
  document_id: string;
  /** 如果失敗會返回錯誤碼 */
  code: Int64;
  msg: string;
}

export interface CreateDocumentRequest {
  creator_id?: string;
  dataset_id?: string;
  document?: common.DocumentInfo;
  space_id?: string;
  Base?: base.Base;
}

export interface CreateDocumentResponse {
  id?: string;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface DeleteUserDataSourceRequest {
  data_source_id?: Int64;
  /** 需要刪除已經添加的文件和向量塊 */
  need_delete_document?: boolean;
  auth_id?: string;
  connector_id?: connector_common.ConnectorID;
  Base?: base.Base;
}

export interface DeleteUserDataSourceResponse {
  code: Int64;
  msg: string;
}

export interface DelWebDataRequest {
  web_id?: string;
  creator_id?: string;
  Base?: base.Base;
}

export interface DelWebDataResponse {
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface DocumentFileInfo {
  name?: string;
  uri?: string;
  document_id?: string;
}

export interface DocumentTableTaskInfo {
  /** 用戶選擇的 sheet id */
  sheet_id: string;
  /** 用戶選擇的表頭行數，從 0 開始編號 */
  header_line_idx: string;
  /** 用戶選擇的起始行號，從 0 開始編號 */
  start_line_idx: string;
}

export interface DocumentTaskInfo {
  name?: string;
  uri?: string;
  /** 用於重新切片 */
  document_id?: string;
  /** 格式類型 */
  format_type?: common.FormatType;
  /** 表格元數據 */
  doc_table_meta?: Array<common.DocTableColumn>;
  /** 表格解析信息 */
  doc_table_info?: DocumentTableTaskInfo;
  source_file_id?: string;
  document_source_type?: common.DocumentSourceType;
}

export interface GetDocumentTableInfoRequest {
  /** 如果爲第一次 url 上傳的表格，傳遞該值 */
  submit_web_id?: string;
  /** 如果爲第一次本地文件上傳的表格，傳遞該值 */
  tos_uri?: string;
  /** 如果爲已有 document 的表格，傳遞該值 */
  document_id?: string;
  /** 創建人[http接口不需要傳遞] */
  creator_id?: Int64;
  source_file_id?: string;
  Base?: base.Base;
}

export interface GetDocumentTableInfoResponse {
  code?: number;
  msg?: string;
  sheet_list?: Array<common.DocTableSheet>;
  /** key: sheet_id -> list<common.DocTableColumn> */
  table_meta?: Record<Int64, Array<common.DocTableColumn>>;
  /** key: sheet_id -> list_preview_data */
  preview_data?: Record<Int64, Array<Record<Int64, string>>>;
}

export interface GetTableSchemaInfoRequest {
  /** 本地文件上傳的 tos 地址，傳遞該值(等前端上線完遷移到SourceFile) */
  tos_uri?: string;
  /** 表格解析信息, 默認初始值0,0,1 */
  doc_table_info?: DocumentTableTaskInfo;
  /** 不傳默認返回所有數據 */
  table_data_type?: TableDataType;
  /** 如果需要拉取的是當前 document 的 schema 時傳遞該值 */
  document_id?: string;
  /** source file 的信息，新增 segment / 之前邏輯遷移到這裏 */
  source_file?: common.SourceFileInfo;
  /** 表格預覽前端需要傳遞原始的數據表結構 */
  origin_table_meta?: Array<common.DocTableColumn>;
  /** 表格預覽前端需要傳遞用戶編輯之後的數據表結構 */
  preview_table_meta?: Array<common.DocTableColumn>;
  Base?: base.Base;
}

export interface GetTableSchemaInfoResponse {
  code?: number;
  msg?: string;
  sheet_list?: Array<common.DocTableSheet>;
  /** 選中的 sheet 的 schema, 不選擇默認返回第一個 sheet */
  table_meta?: Array<common.DocTableColumn>;
  /** knowledge table 場景中會返回 */
  preview_data?: Array<Record<Int64, string>>;
}

export interface GetTaskProgressV2Request {
  document_id?: Array<string>;
  creator_id?: string;
  Base?: base.Base;
}

export interface GetTaskProgressV2Response {
  data?: Array<TaskProgressDataV2>;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface ListDocumentRequest {
  dataset_id?: string;
  /** http接口不傳遞 */
  creator_id?: Int64;
  document_id?: string;
  page?: number;
  size?: number;
  Base?: base.Base;
}

export interface ListDocumentResponse {
  documentsInfo?: Array<common.DocumentInfo>;
  total?: number;
  code?: Int64;
  msg?: string;
}

export interface ProcessDocumentsTaskRequest {
  /** http接口不需要傳遞 */
  creator_id?: Int64;
  dataset_id?: string;
  document_infos?: Array<DocumentTaskInfo>;
  rule?: string;
  Base?: base.Base;
}

export interface ProcessDocumentsTaskResponse {
  document_infos?: Array<DocumentFileInfo>;
  code?: Int64;
  msg?: string;
}

export interface ProcessWebDocumentsTaskRequest {
  creator_id?: string;
  dataset_id?: string;
  document_info?: Array<WebDocumentInfo>;
  formatType?: common.FormatType;
  Base?: base.Base;
}

export interface ProcessWebDocumentsTaskResponse {
  document_infos?: Array<DocumentFileInfo>;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface QueryWebInfoRequest {
  web_ids?: Array<string>;
  /** 是否包含內容 */
  include_content?: boolean;
  creator_id?: string;
  Base?: base.Base;
}

export interface QueryWebInfoResponse {
  data?: Record<Int64, WebInfoData>;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface ResegmentRequest {
  dataset_id: string;
  document_id: string;
  rule?: string;
  /** 格式類型 */
  format_type?: common.FormatType;
  creator_id?: string;
  Base?: base.Base;
}

export interface ResegmentResponse {
  code?: Int64;
  msg?: string;
  document_infos?: DocumentFileInfo;
  BaseResp?: base.BaseResp;
}

export interface SubmitCrawlDataRequest {
  /** web_document */
  web_documents?: Array<WebDocument>;
  /** 隸屬的datasetID */
  dataset_id?: string;
  Base?: base.Base;
}

export interface SubmitCrawlDataResponse {
  document_infos?: Array<DocumentFileInfo>;
  code?: Int64;
  msg?: string;
}

export interface SubmitWebContentV2Request {
  web_id?: string;
  content?: string;
  Base?: base.Base;
}

export interface SubmitWebContentV2Response {
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface SubmitWebUrlRequest {
  web_url?: string;
  /** 0 不包換子頁面。 */
  subpages_count?: number;
  creator_id?: string;
  /** 文件格式類型 */
  format_type?: common.FormatType;
  /** 網頁標題 url 類型必傳 */
  title?: string;
  Base?: base.Base;
}

export interface SubmitWebUrlResponse {
  web_id?: string;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface TableSchemaValidRequest {
  space_id: string;
  document_id: string;
  /** source file 的信息 */
  source_file: common.SourceFileInfo;
  user_table_info: DocumentTableTaskInfo;
  Base?: base.Base;
}

export interface TableSchemaValidResponse {
  column_valid_result?: Record<string, string>;
  /** 如果失敗會返回錯誤碼 */
  code: Int64;
  msg: string;
}

export interface TaskProgressData {
  document_id?: string;
  progress?: number;
  status?: common.DocumentStatus;
  /** 狀態的詳細描述；如果切片失敗，返回失敗信息 */
  status_descript?: string;
}

export interface TaskProgressDataV2 {
  document_id?: string;
  progress?: number;
  status?: common.DocumentStatus;
  /** 狀態的詳細描述；如果切片失敗，返回失敗信息 */
  status_descript?: string;
  document_name?: string;
}

export interface UpdateDocumentV2Request {
  creator_id?: string;
  document_id?: string;
  status?: common.DocumentStatus;
  document_name?: string;
  table_meta?: Array<common.DocTableColumn>;
  Base?: base.Base;
}

export interface UpdateDocumentV2Response {
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface UpdateWebRuleRequest {
  document_id?: string;
  update_type?: common.DocumentUpdateType;
  update_interval?: number;
  creator_id?: string;
  Base?: base.Base;
}

export interface UpdateWebRuleResponse {
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface ValidateUnitNameRequest {
  space_id: string;
  dataset_id: string;
  unit_name: string;
  format_type: common.FormatType;
  document_id?: string;
  Base?: base.Base;
}

export interface ValidateUnitNameResponse {
  /** 如果失敗會返回錯誤碼 */
  code: Int64;
  msg: string;
}

export interface WebDocument {
  /** 標題(表名) */
  title?: string;
  /** 表頭 */
  headers?: Array<string>;
  /** 抓取到的完整信息 */
  content?: Array<Record<string, string>>;
  /** 類型(文檔/表格) */
  format_type?: common.FormatType;
  /** 抓取頁面的URL */
  url?: string;
  /** 抓取信息的XPATH */
  marks?: Record<string, string>;
}

export interface WebDocumentInfo {
  web_id?: string;
  update_type?: common.DocumentUpdateType;
  /** 更新間隔天數 0表示不更新 */
  update_interval?: number;
  sub_web_ids?: Array<string>;
  /** 如果是已有更新 */
  document_id?: string;
  /** 表格類型元數據 */
  table_meta?: Array<common.DocTableColumn>;
  /** 原有的表格類型元數據 deprecated 服務代碼中沒用 */
  orig_table_meta?: Array<common.DocTableColumn>;
  name?: string;
}

export interface WebInfo {
  id?: string;
  url?: string;
  content?: string;
  title?: string;
  subpages?: Array<WebInfo>;
  subpages_count?: number;
  status?: common.WebInfoStatus;
}

export interface WebInfoData {
  progress?: number;
  web_info?: WebInfo;
  status?: common.WebInfoStatus;
  status_descript?: string;
}
/* eslint-enable */
