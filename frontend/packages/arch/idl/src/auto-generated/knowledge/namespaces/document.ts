/*
 * Copyright 2025 coze-dev Authors
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

// THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
/* eslint-disable */
/* tslint:disable */
// @ts-nocheck

import * as common from './common';
import * as base from './base';

export type Int64 = string | number;

export enum AppendType {
  /** 佔位 */
  SegmentAppendType_None = 0,
  /** 尾部追加 */
  SegmentAppendType_Tail = 1,
}

export enum ColumnType {
  Unknown = 0,
  /** 文本 */
  Text = 1,
  /** 數字 */
  Number = 2,
  /** 時間 */
  Date = 3,
  /** float */
  Float = 4,
  /** bool */
  Boolean = 5,
  /** 圖片 */
  Image = 6,
}

export enum TableDataType {
  /** schema sheets 和 preview data */
  AllData = 0,
  /** 只需要 schema 結構 & Sheets */
  OnlySchema = 1,
  /** 只需要 preview data */
  OnlyPreview = 2,
}

export interface AuthFrequencyInfo {
  auth_id: string;
  auth_frequency_type: common.FrequencyType;
  auth_name?: string;
}

export interface BatchSubmitWebUrlRequest {
  web_urls?: Array<string>;
  Base?: base.Base;
}

export interface BatchSubmitWebUrlResponse {
  web_ids?: Array<string>;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface BatchUpdateDocumentRequest {
  document_ids?: Array<string>;
  update_rule?: UpdateRule;
  Base?: base.Base;
}

export interface BatchUpdateDocumentResponse {
  /** deprecated 兼容老接口，更新內容時會返回。 */
  document_info?: Array<DocumentInfo>;
  code?: Int64;
  msg?: string;
  BaseResp?: base.BaseResp;
}

/** 前端爬取插件獲取到的內容 */
export interface CrawlContent {
  /** 標題 */
  title?: string;
  /** 表頭 */
  headers?: Array<string>;
  /** 抓取到的完整信息 */
  content?: Array<Record<string, string>>;
  /** 抓取頁面的 URL */
  url?: string;
  /** 抓取信息的 XPATH */
  marks?: Record<string, string>;
  /** 存儲標記的類型，類型是 Array<'text' | 'image' | 'link'>，與 headers 一一對應 */
  tags?: Array<string>;
  /** 新增分頁配置 */
  pagination?: Pagination;
  /** 子頁面抓取信息的 XPATH, key 對應於 marks 中的 key */
  sub_marks?: Record<string, Record<string, string>>;
}

export interface CreateDocumentRequest {
  dataset_id?: string;
  format_type?: common.FormatType;
  /** 表格類型一次只能創建一個
待創建的文檔信息 */
  document_bases?: Array<DocumentBase>;
  /** 只在知識庫中沒有文檔時需要傳遞，已有則從知識庫獲取.切片規則，爲空則自動按段落切片，具體規則見IDP： */
  chunk_strategy?: common.ChunkStrategy;
  /** 數據導入的時候落庫規則 */
  sink_strategy?: common.SinkStrategy;
  /** 是否爲追加內容，用於表格添加內容
爲 true 時向已有的 document 追加內容。text 類型不能使用 */
  is_append?: boolean;
  /** 解析策略 */
  parsing_strategy?: common.ParsingStrategy;
  index_strategy?: common.IndexStrategy;
  storage_strategy?: common.StorageStrategy;
  Base?: base.Base;
}

export interface CreateDocumentResponse {
  document_infos?: Array<DocumentInfo>;
  code?: number;
  msg?: string;
  BaseResp: base.BaseResp;
}

export interface DeleteDocumentRequest {
  document_ids?: Array<string>;
  /** 由於火山側document是非數字串，這個字段存儲新的知識庫id，，服務端會聚合document_ids後去重 */
  document_ids_new?: Array<string>;
  /** 用來區分是否是火山知識庫，不傳默認爲coze知識庫 */
  dataset_id?: string;
  Base?: base.Base;
}

export interface DeleteDocumentResponse {
  code?: Int64;
  msg?: string;
  BaseResp: base.BaseResp;
}

export interface DocTableSheet {
  /** sheet 的編號 */
  id?: Int64;
  /** sheet 名 */
  sheet_name?: string;
  /** 總行數 */
  total_row?: Int64;
}

/** 用於創建文檔的基本信息 */
export interface DocumentBase {
  name?: string;
  source_info?: SourceInfo;
  /** api 類型更新配置, 其他類型不需要傳 */
  update_rule?: UpdateRule;
  /** 以下參數表格類型需要傳遞
表格元數據 */
  table_meta?: Array<TableColumn>;
  /** 表格解析信息 */
  table_sheet?: TableSheet;
  /** 過濾策略 */
  filter_strategy?: common.FilterStrategy;
  /** 圖片類型，人工標註時的圖片描述，目前只支持openapi調用 */
  caption?: string;
  /** 火山知識庫專用，<標籤名，標籤值> */
  volcano_tab_kv?: Record<string, common.TabValue>;
}

/** 僅提供Document表中的字段。請勿增加其他需要跨表、RPC 調用才能得到的字段。 */
export interface DocumentBrief {
  /** 更新時即使傳了也不更新 */
  id?: Int64;
  /** flink 使用的更新字段
文件後綴 csv, pdf 等 */
  type?: string;
  /** 文件大小 字節數 */
  size?: number;
  /** 包含分段數量 */
  slice_count?: number;
  /** 字符數 */
  char_count?: number;
  /** 狀態 */
  status?: common.DocumentStatus;
  /** json 格式字符串 */
  sink_status?: string;
  dataset_id?: Int64;
  format_type?: common.FormatType;
  space_id?: Int64;
}

export interface DocumentInfo {
  name?: string;
  document_id?: string;
  /** 文件鏈接 */
  tos_uri?: string;
  /** 使用的bot數量 deprecated */
  bot_used_count?: number;
  /** 創建時間 */
  create_time?: number;
  /** 更新時間 */
  update_time?: number;
  /** 創建人 */
  creator_id?: string;
  /** 包含分段數量 */
  slice_count?: number;
  /** 文件後綴 csv, pdf 等 */
  type?: string;
  /** 文件大小 字節數 */
  size?: number;
  /** 字符數 */
  char_count?: number;
  /** 狀態 */
  status?: common.DocumentStatus;
  /** 命中次數 */
  hit_count?: number;
  /** 來源 */
  source_type?: common.DocumentSource;
  /** 更新類型 */
  update_type?: common.UpdateType;
  /** 更新間隔 */
  update_interval?: number;
  /** 文件類型 */
  format_type?: common.FormatType;
  /** 表格類型元數據 */
  table_meta?: Array<TableColumn>;
  /** url 地址 */
  web_url?: string;
  /** 狀態的詳細信息；如果切片失敗，返回失敗信息 */
  status_descript?: string;
  source_file_id?: string;
  is_disconnect?: boolean;
  space_id?: string;
  /** 以下字段僅針對重構後的表格類型有用，用於前端判斷
僅針對表格類型，是否允許編輯更新頻率 */
  editable_update_rule?: boolean;
  /** 僅針對表格類型，是否允許添加內容、修改表結構 */
  editable_append_content?: boolean;
  /** 切片規則 */
  chunk_strategy?: common.ChunkStrategy;
  /** imagex 存儲的文件鏈接 */
  imagex_uri?: string;
  /** 層級分段文檔樹Json (未使用) */
  doc_outline?: string;
  /** 解析策略 */
  parsing_strategy?: common.ParsingStrategy;
  index_strategy?: common.IndexStrategy;
  filter_strategy?: common.FilterStrategy;
  /** 層級分段文檔樹 tos_url */
  doc_tree_tos_url?: string;
  /** 預覽用的原文檔 tos_url */
  preview_tos_url?: string;
  /** 預覽用的原文檔 tos_url */
  review_id?: Int64;
  /** 由於火山側document是非數字串，新增這個字段返回string類型 */
  document_id_new?: string;
}

export interface DocumentProgress {
  document_id?: string;
  progress?: number;
  status?: common.DocumentStatus;
  /** 狀態的詳細描述；如果切片失敗，返回失敗信息 */
  status_descript?: string;
  document_name?: string;
  remaining_time?: Int64;
  size?: Int64;
  type?: string;
  url?: string;
  /** 更新類型 */
  update_type?: common.UpdateType;
  /** 更新間隔 */
  update_interval?: number;
}

export interface ExtractPhotoCaptionRequest {
  document_id: string;
  Base?: base.Base;
}

export interface ExtractPhotoCaptionResponse {
  caption?: string;
  code?: Int64;
  msg?: string;
}

export interface FetchWebUrlRequest {
  document_ids?: Array<string>;
  Base?: base.Base;
}

export interface FetchWebUrlResponse {
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface GetAppendFrequencyRequest {
  dataset_id: string;
  Base?: base.Base;
}

export interface GetAppendFrequencyResponse {
  auth_frequency_info: Array<AuthFrequencyInfo>;
  code: Int64;
  msg: string;
}

export interface GetDocumentProgressRequest {
  document_ids?: Array<string>;
  Base?: base.Base;
}

export interface GetDocumentProgressResponse {
  data?: Array<DocumentProgress>;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface GetTableSchemaRequest {
  /** 表格解析信息, 默認初始值0,0,1 */
  table_sheet?: TableSheet;
  /** 不傳默認返回所有數據 */
  table_data_type?: TableDataType;
  /** 兼容重構前的版本：如果需要拉取的是當前 document 的 schema 時傳遞該值 */
  document_id?: string;
  /** source file 的信息，新增 segment / 之前邏輯遷移到這裏 */
  source_file?: SourceInfo;
  /** 表格預覽前端需要傳遞原始的數據表結構 */
  origin_table_meta?: Array<TableColumn>;
  /** 表格預覽前端需要傳遞用戶編輯之後的數據表結構 */
  preview_table_meta?: Array<TableColumn>;
  Base?: base.Base;
}

export interface GetTableSchemaResponse {
  code?: number;
  msg?: string;
  sheet_list?: Array<DocTableSheet>;
  /** 選中的 sheet 的 schema, 不選擇默認返回第一個 sheet */
  table_meta?: Array<TableColumn>;
  /** knowledge table 場景中會返回 */
  preview_data?: Array<Record<Int64, string>>;
}

export interface GetWebInfoRequest {
  web_ids?: Array<string>;
  /** 是否包含內容 */
  include_content?: boolean;
  Base?: base.Base;
}

export interface GetWebInfoResponse {
  data?: Record<Int64, RootWebData>;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

export interface ListDocumentRequest {
  dataset_id: string;
  document_ids?: Array<string>;
  page?: number;
  size?: number;
  /** 根據名稱搜索 */
  keyword?: string;
  Base?: base.Base;
}

export interface ListDocumentResponse {
  document_infos?: Array<DocumentInfo>;
  total?: number;
  code?: Int64;
  msg?: string;
  BaseResp: base.BaseResp;
}

export interface ListModelRequest {
  Base?: base.Base;
}

export interface ListModelResponse {
  models: Array<ModelInfo>;
  BaseResp: base.BaseResp;
}

export interface ListPhotoRequest {
  dataset_id: string;
  /** 頁數，從 1 開始 */
  page?: number;
  size?: number;
  filter?: PhotoFilter;
  Base?: base.Base;
}

export interface ListPhotoResponse {
  photo_infos?: Array<PhotoInfo>;
  total?: number;
  code?: Int64;
  msg?: string;
}

export interface ModelInfo {
  name?: string;
}

export interface Pagination {
  /** 列表類型採集的最大條數 */
  max_row_count?: number;
  /** 分頁方式：0-不分頁 1-滾動加載 2-下一頁按鈕 */
  type?: number;
  /** 當類型爲 2 時，需要存儲用戶標記的下一頁按鈕 */
  next_page_xpath?: string;
}

export interface PhotoDetailRequest {
  document_ids: Array<string>;
  dataset_id: string;
  Base?: base.Base;
}

export interface PhotoDetailResponse {
  photo_infos?: Record<Int64, PhotoInfo>;
  code?: Int64;
  msg?: string;
}

export interface PhotoFilter {
  /** true 篩選 “已標註” 的圖片，false 篩選 “未標註” 的圖片 */
  has_caption?: boolean;
  /** 搜索關鍵字，對圖片名稱和圖片描述進行搜索 */
  keyword?: string;
  /** 狀態 */
  status?: common.DocumentStatus;
}

export interface PhotoInfo {
  name?: string;
  document_id?: string;
  /** 圖片鏈接 */
  url?: string;
  /** 圖片描述信息 */
  caption?: string;
  /** 創建時間 */
  create_time?: number;
  /** 更新時間 */
  update_time?: number;
  /** 創建人 */
  creator_id?: string;
  /** 圖片後綴 jpg, png 等 */
  type?: string;
  /** 圖片大小 */
  size?: number;
  /** 狀態 */
  status?: common.DocumentStatus;
  /** 來源 */
  source_type?: common.DocumentSource;
}

export interface RefreshDocumentRequest {
  dataset_id?: string;
  document_id?: string;
  /** 分段策略 */
  chunk_strategy?: common.ChunkStrategy;
  Base?: base.Base;
}

export interface RefreshDocumentResponse {
  /** 返回的是新生成文檔的 documentID */
  document_id?: string;
  code?: Int64;
  msg?: string;
  BaseResp?: base.BaseResp;
}

export interface ResegmentRequest {
  dataset_id?: string;
  /** 要重新分段的接口 */
  document_ids?: Array<string>;
  /** 分段策略 */
  chunk_strategy?: common.ChunkStrategy;
  /** 預切片的審閱ID列表 */
  review_ids?: Array<string>;
  /** 解析策略 */
  parsing_strategy?: common.ParsingStrategy;
  index_strategy?: common.IndexStrategy;
  filter_strategy?: common.FilterStrategy;
  Base?: base.Base;
}

export interface ResegmentResponse {
  /** 老版需要. 僅返回id 和名稱即可 */
  document_infos?: Array<DocumentInfo>;
  code?: Int64;
  msg?: string;
  BaseResp?: base.BaseResp;
}

export interface RootWebData {
  progress?: number;
  web_info?: WebInfo;
  status?: common.WebStatus;
  status_descript?: string;
}

export interface SetAppendFrequencyRequest {
  auth_frequency_info: Array<AuthFrequencyInfo>;
  dataset_id: string;
  Base?: base.Base;
}

export interface SetAppendFrequencyResponse {
  code: Int64;
  msg: string;
}

/** 支持多種數據源 */
export interface SourceInfo {
  /** document_source 本地、飛書: 文件上傳的 tos 地址 */
  tos_uri?: string;
  /** document_source weburl, 傳通過 knowledge 創建的 web_id */
  web_id?: string;
  /** document_source google, notion: 三方源文件 id
document_source openapi: openapi上傳的文件 id */
  source_file_id?: string;
  document_source?: common.DocumentSource;
  /** document_source 自定義原始內容: json list<map<string, string>> */
  custom_content?: string;
  /** document_source 前端抓取: 傳遞前端爬取插件獲取到的內容 */
  crawl_content?: CrawlContent;
  /** document_source 本地: 如果不傳 tos 地址, 則需要傳文件 base64, 類型
文件經過 base64 後的字符串 */
  file_base64?: string;
  /** 文件類型, 比如 pdf */
  file_type?: string;
  /** document_source weburl: 如果不傳 web_id, 則需要傳 weburl */
  web_url?: string;
  /** imagex_uri, 和 tos_uri 二選一, imagex_uri 優先，需要通過 imagex 的方法獲取數據和簽發 url */
  imagex_uri?: string;
  /** review_id: 經過預切片後的審閱ID，會直接取預切片的結果數據向量化，如果不傳或傳0，會重新切片 */
  review_id?: string;
}

export interface SubmitWebUrlRequest {
  web_url?: string;
  /** 0 不包換子頁面 */
  subpages_count?: number;
  /** 文件格式類型 */
  format_type?: common.FormatType;
  /** 網頁標題 url 類型必傳 */
  title?: string;
  Base?: base.Base;
}

export interface SubmitWebUrlResponse {
  web_id?: string;
  code: Int64;
  msg: string;
  BaseResp?: base.BaseResp;
}

/** 表格的列信息 */
export interface TableColumn {
  /** 列 id */
  id?: string;
  /** 列名 */
  column_name?: string;
  /** 是否爲語義匹配列 */
  is_semantic?: boolean;
  /** 列原本在 excel 的序號 */
  sequence?: string;
  /** 列類型 */
  column_type?: ColumnType;
  contains_empty_value?: boolean;
  /** 描述 */
  desc?: string;
}

export interface TableSheet {
  /** 用戶選擇的 sheet id */
  sheet_id?: string;
  /** 用戶選擇的表頭行數，從 0 開始編號 */
  header_line_idx?: string;
  /** 用戶選擇的起始行號，從 0 開始編號 */
  start_line_idx?: string;
}

export interface UpdateDocumentRequest {
  document_id?: string;
  /** 重構後文檔沒有啓用狀態，給老接口使用 */
  status?: common.DocumentStatus;
  /** 需要更新就傳, 更新名稱 */
  document_name?: string;
  /** web 類型
web 類型更新配置 */
  update_rule?: UpdateRule;
  /** 更新表結構
表格元數據 */
  table_meta?: Array<TableColumn>;
  Base?: base.Base;
}

export interface UpdateDocumentResponse {
  /** deprecated 兼容老接口，更新內容時會返回。 */
  document_info?: DocumentInfo;
  code?: Int64;
  msg?: string;
  BaseResp?: base.BaseResp;
}

export interface UpdatePhotoCaptionRequest {
  document_id: string;
  /** 描述信息 */
  caption: string;
  Base?: base.Base;
}

export interface UpdatePhotoCaptionResponse {
  code?: Int64;
  msg?: string;
}

export interface UpdateRule {
  /** 更新類型 */
  update_type?: common.UpdateType;
  /** 更新間隔，單位(天) */
  update_interval?: number;
}

export interface ValidateTableSchemaRequest {
  space_id?: string;
  document_id?: string;
  /** source file 的信息 */
  source_file?: SourceInfo;
  table_sheet?: TableSheet;
  Base?: base.Base;
}

export interface ValidateTableSchemaResponse {
  column_valid_result?: Record<string, string>;
  /** 如果失敗會返回錯誤碼 */
  code: Int64;
  msg: string;
}

export interface WebInfo {
  id?: string;
  url?: string;
  content?: string;
  title?: string;
  subpages?: Array<WebInfo>;
  subpages_count?: number;
  status?: common.WebStatus;
}
/* eslint-enable */
